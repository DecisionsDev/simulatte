{"request":{"customer":{"offers":[],"totalAmount":2967,"name":"Karl Thomas","status":"Bronze","walletAmount":850},"order":[{"price":2997.99,"name":"Samsung - 55 Class - LED - Curved - Q7C Series - 2160p - Smart - 4K UHD TV with HDR\""},{"price":59.99,"name":"Connect Dual-Headphone Bluetooth Audio Transmitter"},{"price":79.99,"name":"SiriusXM SXEZR1V1 XM Onyx EZR Satellite Radio Receiver with Vehicle Kit"},{"price":398,"name":"Sony - 2.1-Channel Soundbar System with 6.3 Wireless Subwoofer and Digital Amplifier - Black\""},{"price":149.99,"name":"CORSAIR - Vengeance LPX 16GB (2PK x 8GB) 3.2 GHz DDR4 DRAM Desktop Memory Kit - Black"},{"price":133.99,"name":"GoSafe S30 1080p Dash Cam"},{"price":154.99,"name":"CORSAIR - VENGEANCE LED Series 16GB (2PK 8GB) 2.4GHz DDR4 Desktop Memory with LED Lighting - Black"},{"price":54,"name":"JBL Inspire 700 In-Ear Wireless Sport Headphones with Charging Case (Black)"}]},"trace":{"rootRecord":{"recordType":"DecisionModel","recordIndex":"1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.1","properties":{"output":{"order":"java.util.ArrayList@f27154ba"},"input":{"order":"java.util.ArrayList@f27154ba"},"kind":"InputData","name":"Order","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.2","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@730bb538"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@730bb538"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.3","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.3.1","properties":{"actionIndex":"0","name":"Sum","boundObjectsAtStart":{"orderAmount":null,"order":"java.util.ArrayList@f27154ba"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":4028.9399999999987,"order":"java.util.ArrayList@f27154ba"}}}],"output":{"orderAmount":4028.9399999999987,"order":"java.util.ArrayList@f27154ba"},"input":{"orderAmount":null,"order":"java.util.ArrayList@f27154ba"},"kind":"Decision","name":"Order amount","hitPolicy":"sequence","executionDuration":3,"nonExecutedRules":[],"allRules":["Sum"]}},{"recordType":"DecisionModelNode","recordIndex":"1.4","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.4.1","properties":{"actionIndex":"1","name":"Coupon for small transactions","boundObjectsAtStart":{"orderAmount":4028.9399999999987,"bestOfferType":null,"customer":"decisions.retail.loyalty_program.data.Customer@730bb538","order":"java.util.ArrayList@f27154ba"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":4028.9399999999987,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@48336562","customer":"decisions.retail.loyalty_program.data.Customer@730bb538","order":"java.util.ArrayList@f27154ba"}}},{"recordType":"Rule","recordIndex":"1.4.2","properties":{"actionIndex":"5","name":"Print","boundObjectsAtStart":{"orderAmount":4028.9399999999987,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@48336562","customer":"decisions.retail.loyalty_program.data.Customer@730bb538","order":"java.util.ArrayList@f27154ba"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":4028.9399999999987,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@48336562","customer":"decisions.retail.loyalty_program.data.Customer@730bb538","order":"java.util.ArrayList@f27154ba"}}}],"output":{"orderAmount":4028.9399999999987,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@48336562","customer":"decisions.retail.loyalty_program.data.Customer@730bb538","order":"java.util.ArrayList@f27154ba"},"input":{"orderAmount":4028.9399999999987,"bestOfferType":null,"customer":"decisions.retail.loyalty_program.data.Customer@730bb538","order":"java.util.ArrayList@f27154ba"},"kind":"Decision","name":"Best offer type","hitPolicy":"sequence","executionDuration":1,"nonExecutedRules":["Limit number of coupons","Discount into wallet for small transactions"],"allRules":["Coupon for small transactions","Limit number of coupons","Discount into wallet for small transactions","Print"]}},{"recordType":"DecisionModelNode","recordIndex":"1.5","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.5.1","properties":{"actionIndex":"0","name":"Discount or Wallet offer","boundObjectsAtStart":{"orderAmount":4028.9399999999987,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@48336562","bestOffer":null,"customer":"decisions.retail.loyalty_program.data.Customer@730bb538","order":"java.util.ArrayList@f27154ba"},"executionDuration":7,"boundObjectsAtEnd":{"orderAmount":4028.9399999999987,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@48336562","bestOffer":"decisions.retail.loyalty_program.data.Offer@e1458cad","customer":"decisions.retail.loyalty_program.data.Customer@730bb538","order":"java.util.ArrayList@f27154ba"}}}],"output":{"orderAmount":4028.9399999999987,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@48336562","bestOffer":"decisions.retail.loyalty_program.data.Offer@e1458cad","customer":"decisions.retail.loyalty_program.data.Customer@730bb538","order":"java.util.ArrayList@f27154ba"},"input":{"orderAmount":4028.9399999999987,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@48336562","bestOffer":null,"customer":"decisions.retail.loyalty_program.data.Customer@730bb538","order":"java.util.ArrayList@f27154ba"},"kind":"Decision","name":"Best offer","hitPolicy":"first","executionDuration":8,"nonExecutedRules":["Coupon"],"allRules":["Discount or Wallet offer","Coupon"]}},{"recordType":"DecisionModelNode","recordIndex":"1.6","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.6.1","properties":{"actionIndex":"0","name":"Compute order amount after discount","boundObjectsAtStart":{"orderAmount":4028.9399999999987,"discountedPrice":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@e1458cad"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":4028.9399999999987,"discountedPrice":4028.9399999999987,"bestOffer":"decisions.retail.loyalty_program.data.Offer@e1458cad"}}}],"output":{"orderAmount":4028.9399999999987,"discountedPrice":4028.9399999999987,"bestOffer":"decisions.retail.loyalty_program.data.Offer@e1458cad"},"input":{"orderAmount":4028.9399999999987,"discountedPrice":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@e1458cad"},"kind":"Decision","name":"Discounted price","hitPolicy":"sequence","executionDuration":2,"nonExecutedRules":[],"allRules":["Compute order amount after discount"]}},{"recordType":"DecisionModelNode","recordIndex":"1.7","properties":{"output":{"discountedPrice":4028.9399999999987,"finalPrice":4028.9399999999987},"input":{"discountedPrice":4028.9399999999987,"finalPrice":null},"defaultValueBefore":{"discountedPrice":4028.9399999999987,"finalPrice":null},"kind":"Decision","name":"Final price","hitPolicy":"sequence","executionDuration":1,"nonExecutedRules":[],"defaultValueAfter":{"discountedPrice":4028.9399999999987,"finalPrice":4028.9399999999987},"allRules":[]}},{"recordType":"DecisionModelNode","recordIndex":"1.8","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.1","properties":{"actionIndex":"0","name":"Copy customer information","boundObjectsAtStart":{"discountedPrice":4028.9399999999987,"updatedCustomer":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@e1458cad","customer":"decisions.retail.loyalty_program.data.Customer@730bb538"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":4028.9399999999987,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@79bde472","bestOffer":"decisions.retail.loyalty_program.data.Offer@e1458cad","customer":"decisions.retail.loyalty_program.data.Customer@730bb538"}}},{"recordType":"Rule","recordIndex":"1.8.2","properties":{"actionIndex":"3","name":"Add Discount offer","boundObjectsAtStart":{"discountedPrice":4028.9399999999987,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@79bde472","bestOffer":"decisions.retail.loyalty_program.data.Offer@e1458cad","customer":"decisions.retail.loyalty_program.data.Customer@730bb538"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":4028.9399999999987,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@79bde472","bestOffer":"decisions.retail.loyalty_program.data.Offer@e1458cad","customer":"decisions.retail.loyalty_program.data.Customer@730bb538"}}},{"recordType":"Rule","recordIndex":"1.8.3","properties":{"nestedRecords":[{"recordType":"DecisionModel","recordIndex":"1.8.3.1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.1","properties":{"output":{"purchase":4028.9399999999987},"input":{"purchase":4028.9399999999987},"kind":"InputData","name":"Purchase","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.2","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@79bde472"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@79bde472"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.3","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.3.1","properties":{"actionIndex":"0","name":"Remove the first 100","boundObjectsAtStart":{"eligibleAmount":null,"purchase":4028.9399999999987},"executionDuration":0,"boundObjectsAtEnd":{"eligibleAmount":3928.9399999999987,"purchase":4028.9399999999987}}}],"output":{"eligibleAmount":3928.9399999999987,"purchase":4028.9399999999987},"input":{"eligibleAmount":null,"purchase":4028.9399999999987},"kind":"Decision","name":"Eligible amount","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Remove the first 100"]}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.4","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.4.1","properties":{"actionIndex":"2","name":"Apply reward table","boundObjectsAtStart":{"eligibleAmount":3928.9399999999987,"walletMultipler":null,"customer":"decisions.retail.loyalty_program.data.Customer@79bde472"},"executionDuration":0,"boundObjectsAtEnd":{"eligibleAmount":3928.9399999999987,"walletMultipler":0.02,"customer":"decisions.retail.loyalty_program.data.Customer@79bde472"}}}],"output":{"eligibleAmount":3928.9399999999987,"walletMultipler":0.02,"customer":"decisions.retail.loyalty_program.data.Customer@79bde472"},"input":{"eligibleAmount":3928.9399999999987,"walletMultipler":null,"customer":"decisions.retail.loyalty_program.data.Customer@79bde472"},"kind":"Decision","name":"Wallet multipler","hitPolicy":"sequence","executionDuration":1,"nonExecutedRules":[],"allRules":["Apply reward table"]}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.5","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.5.1","properties":{"actionIndex":"0","name":"Apply reward","boundObjectsAtStart":{"eligibleAmount":3928.9399999999987,"walletMultipler":0.02,"walletReward":null,"customer":"decisions.retail.loyalty_program.data.Customer@79bde472"},"executionDuration":0,"boundObjectsAtEnd":{"eligibleAmount":3928.9399999999987,"walletMultipler":0.02,"walletReward":"decisions.retail.loyalty_program.data.Customer@2d2c9d65","customer":"decisions.retail.loyalty_program.data.Customer@79bde472"}}}],"output":{"eligibleAmount":3928.9399999999987,"walletMultipler":0.02,"walletReward":"decisions.retail.loyalty_program.data.Customer@2d2c9d65","customer":"decisions.retail.loyalty_program.data.Customer@79bde472"},"input":{"eligibleAmount":3928.9399999999987,"walletMultipler":0.02,"walletReward":null,"customer":"decisions.retail.loyalty_program.data.Customer@79bde472"},"kind":"Decision","name":"Wallet reward","hitPolicy":"sequence","executionDuration":1,"nonExecutedRules":[],"allRules":["Apply reward"]}}],"output":{"walletReward":"decisions.retail.loyalty_program.data.Customer@2d2c9d65"},"input":{"purchase":4028.9399999999987,"customer":"decisions.retail.loyalty_program.data.Customer@79bde472"},"name":"WalletReward-wallet-reward","executionDuration":8}}],"actionIndex":"4","name":"Update customers total amount and wallet","boundObjectsAtStart":{"discountedPrice":4028.9399999999987,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@79bde472","bestOffer":"decisions.retail.loyalty_program.data.Offer@e1458cad","customer":"decisions.retail.loyalty_program.data.Customer@730bb538"},"executionDuration":13,"boundObjectsAtEnd":{"discountedPrice":4028.9399999999987,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@79bde472","bestOffer":"decisions.retail.loyalty_program.data.Offer@e1458cad","customer":"decisions.retail.loyalty_program.data.Customer@730bb538"}}},{"recordType":"Rule","recordIndex":"1.8.4","properties":{"nestedRecords":[{"recordType":"DecisionModel","recordIndex":"1.8.4.1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.8.4.1.1","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@79bde472"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@79bde472"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.4.1.2","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.4.1.2.1","properties":{"actionIndex":"0","name":"Copy customer information","boundObjectsAtStart":{"customerUpgrade":null,"customer":"decisions.retail.loyalty_program.data.Customer@79bde472"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@ee4c3aec","customer":"decisions.retail.loyalty_program.data.Customer@79bde472"}}},{"recordType":"Rule","recordIndex":"1.8.4.1.2.2","properties":{"actionIndex":"4","name":"Upgrade table","boundObjectsAtStart":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@ee4c3aec","customer":"decisions.retail.loyalty_program.data.Customer@79bde472"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@ee4c3aec","customer":"decisions.retail.loyalty_program.data.Customer@79bde472"}}},{"recordType":"Rule","recordIndex":"1.8.4.1.2.3","properties":{"actionIndex":"7","name":"Bonus table","boundObjectsAtStart":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@ee4c3aec","customer":"decisions.retail.loyalty_program.data.Customer@79bde472"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@ee4c3aec","customer":"decisions.retail.loyalty_program.data.Customer@79bde472"}}}],"output":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@ee4c3aec","customer":"decisions.retail.loyalty_program.data.Customer@79bde472"},"input":{"customerUpgrade":null,"customer":"decisions.retail.loyalty_program.data.Customer@79bde472"},"kind":"Decision","name":"Customer upgrade","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Copy customer information","Upgrade table","Bonus table"]}}],"output":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@ee4c3aec"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@79bde472"},"name":"CustomerUpgrade-customer-upgrade","executionDuration":3}}],"actionIndex":"6","name":"Update customer status","boundObjectsAtStart":{"discountedPrice":4028.9399999999987,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@79bde472","bestOffer":"decisions.retail.loyalty_program.data.Offer@e1458cad","customer":"decisions.retail.loyalty_program.data.Customer@730bb538"},"executionDuration":6,"boundObjectsAtEnd":{"discountedPrice":4028.9399999999987,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@ee4c3aec","bestOffer":"decisions.retail.loyalty_program.data.Offer@e1458cad","customer":"decisions.retail.loyalty_program.data.Customer@730bb538"}}}],"output":{"discountedPrice":4028.9399999999987,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@ee4c3aec","bestOffer":"decisions.retail.loyalty_program.data.Offer@e1458cad","customer":"decisions.retail.loyalty_program.data.Customer@730bb538"},"input":{"discountedPrice":4028.9399999999987,"updatedCustomer":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@e1458cad","customer":"decisions.retail.loyalty_program.data.Customer@730bb538"},"kind":"Decision","name":"Updated customer","hitPolicy":"sequence","executionDuration":19,"nonExecutedRules":["Add Coupon","Add Wallet discount"],"allRules":["Copy customer information","Add Coupon","Add Wallet discount","Add Discount offer","Update customers total amount and wallet","Update customer status"]}}],"output":{"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@ee4c3aec","finalPrice":4028.9399999999987},"input":{"order":"java.util.ArrayList@f27154ba","customer":"decisions.retail.loyalty_program.data.Customer@730bb538"},"name":"ApplyLoyaltyPolicies-apply-loyalty-policies","executionDuration":51}},"printedMessages":[{"recordIndex":"1.4.2","message":"Offer type is: Discount"},{"recordIndex":"1.5.1","message":"Discount is: 0.0% or 0.0"},{"recordIndex":"1.8.2","message":"Offer is Discount: 0.0"},{"recordIndex":"1.8.3.1.5.1","message":"Wallet reward is: 79.0"}],"configuration":{"printedMessages":true,"ruleflow":{"executedTasks":true,"notExecutedTasks":true,"allTasks":true,"selectedRules":true,"inputParameters":"ClassNameNHashcode","outputParameters":"ClassNameNHashcode"},"decisionModel":{"inputNode":"ClassNameNHashcode","outputNode":"ClassNameNHashcode","inputParameters":"ClassNameNHashcode","outputParameters":"ClassNameNHashcode"},"rules":{"executedRules":true,"boundObjectsAtStart":"ClassNameNHashcode","boundObjectsAtEnd":"ClassNameNHashcode","nonExecutedRules":true,"allRules":true,"exceptions":"None"},"executionDuration":true},"exceptionsRaised":[]},"response":{"updatedCustomer":{"offers":[{"coupon":null,"description":"Discount on this order (0.0%)","type":"Discount","value":0}],"totalAmount":6995.939999999999,"name":"Karl Thomas","status":"Platinum","walletAmount":989},"__DecisionID__":"573b99a6-39bf-47ad-867f-e0ab2d02d001","finalPrice":4028.9399999999987}}
{"request":{"customer":{"offers":[],"totalAmount":3717,"name":"Ivan Oneal","status":"Bronze","walletAmount":676},"order":[{"price":159.95,"name":"DNA 15 Slim Messenger Bag (Graphite)"},{"price":399,"name":"Master and Dynamic MH40S2 Award Winning Over-ear"},{"price":349.99,"name":"Yamaha - 30W Desktop Audio System - Black"},{"price":1444.99,"name":"Apple MacBook Pro with Touch Bar - 13.3 - Core i5 - 8 GB RAM - 512 GB SSD - English\""},{"price":154.99,"name":"SanDisk Ultra II 500GB SATA III SSD - 2.5-Inch 7mm Height Solid State Drive - SDSSDHII-500G-G25"},{"price":639,"name":"LP-E6N Lithium-Ion Battery Pack (7.2V, 1865mAh)"},{"price":67.66,"name":"Silencio 352 microATX Case (Black)"},{"price":284.95,"name":"HDR-AS200V Full HD Action Cam"},{"price":178.14,"name":"Cooler Master - HAF X Ultimate Full-Tower Chassis - Black"},{"price":69.99,"name":"Details About Netgear Nighthawk A7000 (ac1900) Dualband Wifi Usb Adapter"}]},"trace":{"rootRecord":{"recordType":"DecisionModel","recordIndex":"1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.1","properties":{"output":{"order":"java.util.ArrayList@af03269e"},"input":{"order":"java.util.ArrayList@af03269e"},"kind":"InputData","name":"Order","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.2","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@c2178a75"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@c2178a75"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.3","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.3.1","properties":{"actionIndex":"0","name":"Sum","boundObjectsAtStart":{"orderAmount":null,"order":"java.util.ArrayList@af03269e"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":3748.6599999999994,"order":"java.util.ArrayList@af03269e"}}}],"output":{"orderAmount":3748.6599999999994,"order":"java.util.ArrayList@af03269e"},"input":{"orderAmount":null,"order":"java.util.ArrayList@af03269e"},"kind":"Decision","name":"Order amount","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Sum"]}},{"recordType":"DecisionModelNode","recordIndex":"1.4","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.4.1","properties":{"actionIndex":"1","name":"Coupon for small transactions","boundObjectsAtStart":{"orderAmount":3748.6599999999994,"bestOfferType":null,"customer":"decisions.retail.loyalty_program.data.Customer@c2178a75","order":"java.util.ArrayList@af03269e"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":3748.6599999999994,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@48336562","customer":"decisions.retail.loyalty_program.data.Customer@c2178a75","order":"java.util.ArrayList@af03269e"}}},{"recordType":"Rule","recordIndex":"1.4.2","properties":{"actionIndex":"5","name":"Print","boundObjectsAtStart":{"orderAmount":3748.6599999999994,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@48336562","customer":"decisions.retail.loyalty_program.data.Customer@c2178a75","order":"java.util.ArrayList@af03269e"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":3748.6599999999994,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@48336562","customer":"decisions.retail.loyalty_program.data.Customer@c2178a75","order":"java.util.ArrayList@af03269e"}}}],"output":{"orderAmount":3748.6599999999994,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@48336562","customer":"decisions.retail.loyalty_program.data.Customer@c2178a75","order":"java.util.ArrayList@af03269e"},"input":{"orderAmount":3748.6599999999994,"bestOfferType":null,"customer":"decisions.retail.loyalty_program.data.Customer@c2178a75","order":"java.util.ArrayList@af03269e"},"kind":"Decision","name":"Best offer type","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":["Limit number of coupons","Discount into wallet for small transactions"],"allRules":["Coupon for small transactions","Limit number of coupons","Discount into wallet for small transactions","Print"]}},{"recordType":"DecisionModelNode","recordIndex":"1.5","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.5.1","properties":{"actionIndex":"0","name":"Discount or Wallet offer","boundObjectsAtStart":{"orderAmount":3748.6599999999994,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@48336562","bestOffer":null,"customer":"decisions.retail.loyalty_program.data.Customer@c2178a75","order":"java.util.ArrayList@af03269e"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":3748.6599999999994,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@48336562","bestOffer":"decisions.retail.loyalty_program.data.Offer@e8482248","customer":"decisions.retail.loyalty_program.data.Customer@c2178a75","order":"java.util.ArrayList@af03269e"}}}],"output":{"orderAmount":3748.6599999999994,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@48336562","bestOffer":"decisions.retail.loyalty_program.data.Offer@e8482248","customer":"decisions.retail.loyalty_program.data.Customer@c2178a75","order":"java.util.ArrayList@af03269e"},"input":{"orderAmount":3748.6599999999994,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@48336562","bestOffer":null,"customer":"decisions.retail.loyalty_program.data.Customer@c2178a75","order":"java.util.ArrayList@af03269e"},"kind":"Decision","name":"Best offer","hitPolicy":"first","executionDuration":0,"nonExecutedRules":["Coupon"],"allRules":["Discount or Wallet offer","Coupon"]}},{"recordType":"DecisionModelNode","recordIndex":"1.6","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.6.1","properties":{"actionIndex":"0","name":"Compute order amount after discount","boundObjectsAtStart":{"orderAmount":3748.6599999999994,"discountedPrice":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@e8482248"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":3748.6599999999994,"discountedPrice":3748.6599999999994,"bestOffer":"decisions.retail.loyalty_program.data.Offer@e8482248"}}}],"output":{"orderAmount":3748.6599999999994,"discountedPrice":3748.6599999999994,"bestOffer":"decisions.retail.loyalty_program.data.Offer@e8482248"},"input":{"orderAmount":3748.6599999999994,"discountedPrice":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@e8482248"},"kind":"Decision","name":"Discounted price","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Compute order amount after discount"]}},{"recordType":"DecisionModelNode","recordIndex":"1.7","properties":{"output":{"discountedPrice":3748.6599999999994,"finalPrice":3748.6599999999994},"input":{"discountedPrice":3748.6599999999994,"finalPrice":null},"defaultValueBefore":{"discountedPrice":3748.6599999999994,"finalPrice":null},"kind":"Decision","name":"Final price","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"defaultValueAfter":{"discountedPrice":3748.6599999999994,"finalPrice":3748.6599999999994},"allRules":[]}},{"recordType":"DecisionModelNode","recordIndex":"1.8","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.1","properties":{"actionIndex":"0","name":"Copy customer information","boundObjectsAtStart":{"discountedPrice":3748.6599999999994,"updatedCustomer":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@e8482248","customer":"decisions.retail.loyalty_program.data.Customer@c2178a75"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":3748.6599999999994,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@48e000e6","bestOffer":"decisions.retail.loyalty_program.data.Offer@e8482248","customer":"decisions.retail.loyalty_program.data.Customer@c2178a75"}}},{"recordType":"Rule","recordIndex":"1.8.2","properties":{"actionIndex":"3","name":"Add Discount offer","boundObjectsAtStart":{"discountedPrice":3748.6599999999994,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@48e000e6","bestOffer":"decisions.retail.loyalty_program.data.Offer@e8482248","customer":"decisions.retail.loyalty_program.data.Customer@c2178a75"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":3748.6599999999994,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@48e000e6","bestOffer":"decisions.retail.loyalty_program.data.Offer@e8482248","customer":"decisions.retail.loyalty_program.data.Customer@c2178a75"}}},{"recordType":"Rule","recordIndex":"1.8.3","properties":{"nestedRecords":[{"recordType":"DecisionModel","recordIndex":"1.8.3.1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.1","properties":{"output":{"purchase":3748.6599999999994},"input":{"purchase":3748.6599999999994},"kind":"InputData","name":"Purchase","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.2","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@48e000e6"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@48e000e6"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.3","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.3.1","properties":{"actionIndex":"0","name":"Remove the first 100","boundObjectsAtStart":{"eligibleAmount":null,"purchase":3748.6599999999994},"executionDuration":0,"boundObjectsAtEnd":{"eligibleAmount":3648.6599999999994,"purchase":3748.6599999999994}}}],"output":{"eligibleAmount":3648.6599999999994,"purchase":3748.6599999999994},"input":{"eligibleAmount":null,"purchase":3748.6599999999994},"kind":"Decision","name":"Eligible amount","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Remove the first 100"]}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.4","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.4.1","properties":{"actionIndex":"2","name":"Apply reward table","boundObjectsAtStart":{"eligibleAmount":3648.6599999999994,"walletMultipler":null,"customer":"decisions.retail.loyalty_program.data.Customer@48e000e6"},"executionDuration":0,"boundObjectsAtEnd":{"eligibleAmount":3648.6599999999994,"walletMultipler":0.02,"customer":"decisions.retail.loyalty_program.data.Customer@48e000e6"}}}],"output":{"eligibleAmount":3648.6599999999994,"walletMultipler":0.02,"customer":"decisions.retail.loyalty_program.data.Customer@48e000e6"},"input":{"eligibleAmount":3648.6599999999994,"walletMultipler":null,"customer":"decisions.retail.loyalty_program.data.Customer@48e000e6"},"kind":"Decision","name":"Wallet multipler","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Apply reward table"]}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.5","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.5.1","properties":{"actionIndex":"0","name":"Apply reward","boundObjectsAtStart":{"eligibleAmount":3648.6599999999994,"walletMultipler":0.02,"walletReward":null,"customer":"decisions.retail.loyalty_program.data.Customer@48e000e6"},"executionDuration":0,"boundObjectsAtEnd":{"eligibleAmount":3648.6599999999994,"walletMultipler":0.02,"walletReward":"decisions.retail.loyalty_program.data.Customer@285237af","customer":"decisions.retail.loyalty_program.data.Customer@48e000e6"}}}],"output":{"eligibleAmount":3648.6599999999994,"walletMultipler":0.02,"walletReward":"decisions.retail.loyalty_program.data.Customer@285237af","customer":"decisions.retail.loyalty_program.data.Customer@48e000e6"},"input":{"eligibleAmount":3648.6599999999994,"walletMultipler":0.02,"walletReward":null,"customer":"decisions.retail.loyalty_program.data.Customer@48e000e6"},"kind":"Decision","name":"Wallet reward","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Apply reward"]}}],"output":{"walletReward":"decisions.retail.loyalty_program.data.Customer@285237af"},"input":{"purchase":3748.6599999999994,"customer":"decisions.retail.loyalty_program.data.Customer@48e000e6"},"name":"WalletReward-wallet-reward","executionDuration":0}}],"actionIndex":"4","name":"Update customers total amount and wallet","boundObjectsAtStart":{"discountedPrice":3748.6599999999994,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@48e000e6","bestOffer":"decisions.retail.loyalty_program.data.Offer@e8482248","customer":"decisions.retail.loyalty_program.data.Customer@c2178a75"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":3748.6599999999994,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@48e000e6","bestOffer":"decisions.retail.loyalty_program.data.Offer@e8482248","customer":"decisions.retail.loyalty_program.data.Customer@c2178a75"}}},{"recordType":"Rule","recordIndex":"1.8.4","properties":{"nestedRecords":[{"recordType":"DecisionModel","recordIndex":"1.8.4.1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.8.4.1.1","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@48e000e6"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@48e000e6"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.4.1.2","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.4.1.2.1","properties":{"actionIndex":"0","name":"Copy customer information","boundObjectsAtStart":{"customerUpgrade":null,"customer":"decisions.retail.loyalty_program.data.Customer@48e000e6"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@dc3fe2b1","customer":"decisions.retail.loyalty_program.data.Customer@48e000e6"}}},{"recordType":"Rule","recordIndex":"1.8.4.1.2.2","properties":{"actionIndex":"4","name":"Upgrade table","boundObjectsAtStart":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@dc3fe2b1","customer":"decisions.retail.loyalty_program.data.Customer@48e000e6"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@dc3fe2b1","customer":"decisions.retail.loyalty_program.data.Customer@48e000e6"}}},{"recordType":"Rule","recordIndex":"1.8.4.1.2.3","properties":{"actionIndex":"7","name":"Bonus table","boundObjectsAtStart":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@dc3fe2b1","customer":"decisions.retail.loyalty_program.data.Customer@48e000e6"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@dc3fe2b1","customer":"decisions.retail.loyalty_program.data.Customer@48e000e6"}}}],"output":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@dc3fe2b1","customer":"decisions.retail.loyalty_program.data.Customer@48e000e6"},"input":{"customerUpgrade":null,"customer":"decisions.retail.loyalty_program.data.Customer@48e000e6"},"kind":"Decision","name":"Customer upgrade","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Copy customer information","Upgrade table","Bonus table"]}}],"output":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@dc3fe2b1"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@48e000e6"},"name":"CustomerUpgrade-customer-upgrade","executionDuration":0}}],"actionIndex":"6","name":"Update customer status","boundObjectsAtStart":{"discountedPrice":3748.6599999999994,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@48e000e6","bestOffer":"decisions.retail.loyalty_program.data.Offer@e8482248","customer":"decisions.retail.loyalty_program.data.Customer@c2178a75"},"executionDuration":1,"boundObjectsAtEnd":{"discountedPrice":3748.6599999999994,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@dc3fe2b1","bestOffer":"decisions.retail.loyalty_program.data.Offer@e8482248","customer":"decisions.retail.loyalty_program.data.Customer@c2178a75"}}}],"output":{"discountedPrice":3748.6599999999994,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@dc3fe2b1","bestOffer":"decisions.retail.loyalty_program.data.Offer@e8482248","customer":"decisions.retail.loyalty_program.data.Customer@c2178a75"},"input":{"discountedPrice":3748.6599999999994,"updatedCustomer":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@e8482248","customer":"decisions.retail.loyalty_program.data.Customer@c2178a75"},"kind":"Decision","name":"Updated customer","hitPolicy":"sequence","executionDuration":2,"nonExecutedRules":["Add Coupon","Add Wallet discount"],"allRules":["Copy customer information","Add Coupon","Add Wallet discount","Add Discount offer","Update customers total amount and wallet","Update customer status"]}}],"output":{"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@dc3fe2b1","finalPrice":3748.6599999999994},"input":{"order":"java.util.ArrayList@af03269e","customer":"decisions.retail.loyalty_program.data.Customer@c2178a75"},"name":"ApplyLoyaltyPolicies-apply-loyalty-policies","executionDuration":2}},"printedMessages":[{"recordIndex":"1.4.2","message":"Offer type is: Discount"},{"recordIndex":"1.5.1","message":"Discount is: 0.0% or 0.0"},{"recordIndex":"1.8.2","message":"Offer is Discount: 0.0"},{"recordIndex":"1.8.3.1.5.1","message":"Wallet reward is: 73.0"}],"configuration":{"printedMessages":true,"ruleflow":{"executedTasks":true,"notExecutedTasks":true,"allTasks":true,"selectedRules":true,"inputParameters":"ClassNameNHashcode","outputParameters":"ClassNameNHashcode"},"decisionModel":{"inputNode":"ClassNameNHashcode","outputNode":"ClassNameNHashcode","inputParameters":"ClassNameNHashcode","outputParameters":"ClassNameNHashcode"},"rules":{"executedRules":true,"boundObjectsAtStart":"ClassNameNHashcode","boundObjectsAtEnd":"ClassNameNHashcode","nonExecutedRules":true,"allRules":true,"exceptions":"None"},"executionDuration":true},"exceptionsRaised":[]},"response":{"updatedCustomer":{"offers":[{"coupon":null,"description":"Discount on this order (0.0%)","type":"Discount","value":0}],"totalAmount":7465.66,"name":"Ivan Oneal","status":"Platinum","walletAmount":809},"__DecisionID__":"e7ff8d22-8844-476f-b341-a573694068b3","finalPrice":3748.6599999999994}}
{"request":{"customer":{"offers":[],"totalAmount":2078,"name":"Stephen Jenkins","status":"Gold","walletAmount":881},"order":[{"price":738.88,"name":"Elite SC-LX501 7.2-Channel Network A/V Receiver"},{"price":99.99,"name":"GoSafe S30 1080p Dash Cam"},{"price":239,"name":"Details About Arris Surfboard Svg2482ac Docsis 3.0 Cable Modem Wifi Router Xfinity Voice Voip"},{"price":50,"name":"Details About Zmodo Hd Wifi Home Security Camera Twoway Audio Motion Detection Cloud Service"},{"price":1997.99,"name":"MU9000-Series 65-Class HDR UHD Smart LED TV"},{"price":14.99,"name":"Stile Collection Bella IV Shoulder Bag (Black)"},{"price":294.95,"name":"HDR-AS200V Full HD Action Cam"}]},"trace":{"rootRecord":{"recordType":"DecisionModel","recordIndex":"1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.1","properties":{"output":{"order":"java.util.ArrayList@344314d7"},"input":{"order":"java.util.ArrayList@344314d7"},"kind":"InputData","name":"Order","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.2","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@ab203a5"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@ab203a5"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.3","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.3.1","properties":{"actionIndex":"0","name":"Sum","boundObjectsAtStart":{"orderAmount":null,"order":"java.util.ArrayList@344314d7"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":3435.7999999999993,"order":"java.util.ArrayList@344314d7"}}}],"output":{"orderAmount":3435.7999999999993,"order":"java.util.ArrayList@344314d7"},"input":{"orderAmount":null,"order":"java.util.ArrayList@344314d7"},"kind":"Decision","name":"Order amount","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Sum"]}},{"recordType":"DecisionModelNode","recordIndex":"1.4","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.4.1","properties":{"actionIndex":"1","name":"Coupon for small transactions","boundObjectsAtStart":{"orderAmount":3435.7999999999993,"bestOfferType":null,"customer":"decisions.retail.loyalty_program.data.Customer@ab203a5","order":"java.util.ArrayList@344314d7"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":3435.7999999999993,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@ab203a5","order":"java.util.ArrayList@344314d7"}}},{"recordType":"Rule","recordIndex":"1.4.2","properties":{"actionIndex":"5","name":"Print","boundObjectsAtStart":{"orderAmount":3435.7999999999993,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@ab203a5","order":"java.util.ArrayList@344314d7"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":3435.7999999999993,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@ab203a5","order":"java.util.ArrayList@344314d7"}}}],"output":{"orderAmount":3435.7999999999993,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@ab203a5","order":"java.util.ArrayList@344314d7"},"input":{"orderAmount":3435.7999999999993,"bestOfferType":null,"customer":"decisions.retail.loyalty_program.data.Customer@ab203a5","order":"java.util.ArrayList@344314d7"},"kind":"Decision","name":"Best offer type","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":["Limit number of coupons","Discount into wallet for small transactions"],"allRules":["Coupon for small transactions","Limit number of coupons","Discount into wallet for small transactions","Print"]}},{"recordType":"DecisionModelNode","recordIndex":"1.5","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.5.1","properties":{"actionIndex":"0","name":"Discount or Wallet offer","boundObjectsAtStart":{"orderAmount":3435.7999999999993,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":null,"customer":"decisions.retail.loyalty_program.data.Customer@ab203a5","order":"java.util.ArrayList@344314d7"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":3435.7999999999993,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":"decisions.retail.loyalty_program.data.Offer@df5d0882","customer":"decisions.retail.loyalty_program.data.Customer@ab203a5","order":"java.util.ArrayList@344314d7"}}}],"output":{"orderAmount":3435.7999999999993,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":"decisions.retail.loyalty_program.data.Offer@df5d0882","customer":"decisions.retail.loyalty_program.data.Customer@ab203a5","order":"java.util.ArrayList@344314d7"},"input":{"orderAmount":3435.7999999999993,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":null,"customer":"decisions.retail.loyalty_program.data.Customer@ab203a5","order":"java.util.ArrayList@344314d7"},"kind":"Decision","name":"Best offer","hitPolicy":"first","executionDuration":0,"nonExecutedRules":["Coupon"],"allRules":["Discount or Wallet offer","Coupon"]}},{"recordType":"DecisionModelNode","recordIndex":"1.6","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.6.1","properties":{"actionIndex":"0","name":"Compute order amount after discount","boundObjectsAtStart":{"orderAmount":3435.7999999999993,"discountedPrice":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@df5d0882"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":3435.7999999999993,"discountedPrice":3091.7999999999993,"bestOffer":"decisions.retail.loyalty_program.data.Offer@df5d0882"}}}],"output":{"orderAmount":3435.7999999999993,"discountedPrice":3091.7999999999993,"bestOffer":"decisions.retail.loyalty_program.data.Offer@df5d0882"},"input":{"orderAmount":3435.7999999999993,"discountedPrice":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@df5d0882"},"kind":"Decision","name":"Discounted price","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Compute order amount after discount"]}},{"recordType":"DecisionModelNode","recordIndex":"1.7","properties":{"output":{"discountedPrice":3091.7999999999993,"finalPrice":3091.7999999999993},"input":{"discountedPrice":3091.7999999999993,"finalPrice":null},"defaultValueBefore":{"discountedPrice":3091.7999999999993,"finalPrice":null},"kind":"Decision","name":"Final price","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"defaultValueAfter":{"discountedPrice":3091.7999999999993,"finalPrice":3091.7999999999993},"allRules":[]}},{"recordType":"DecisionModelNode","recordIndex":"1.8","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.1","properties":{"actionIndex":"0","name":"Copy customer information","boundObjectsAtStart":{"discountedPrice":3091.7999999999993,"updatedCustomer":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@df5d0882","customer":"decisions.retail.loyalty_program.data.Customer@ab203a5"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":3091.7999999999993,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@ae74033b","bestOffer":"decisions.retail.loyalty_program.data.Offer@df5d0882","customer":"decisions.retail.loyalty_program.data.Customer@ab203a5"}}},{"recordType":"Rule","recordIndex":"1.8.2","properties":{"actionIndex":"3","name":"Add Discount offer","boundObjectsAtStart":{"discountedPrice":3091.7999999999993,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@ae74033b","bestOffer":"decisions.retail.loyalty_program.data.Offer@df5d0882","customer":"decisions.retail.loyalty_program.data.Customer@ab203a5"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":3091.7999999999993,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@ae74033b","bestOffer":"decisions.retail.loyalty_program.data.Offer@df5d0882","customer":"decisions.retail.loyalty_program.data.Customer@ab203a5"}}},{"recordType":"Rule","recordIndex":"1.8.3","properties":{"nestedRecords":[{"recordType":"DecisionModel","recordIndex":"1.8.3.1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.1","properties":{"output":{"purchase":3091.7999999999993},"input":{"purchase":3091.7999999999993},"kind":"InputData","name":"Purchase","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.2","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@ae74033b"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@ae74033b"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.3","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.3.1","properties":{"actionIndex":"0","name":"Remove the first 100","boundObjectsAtStart":{"eligibleAmount":null,"purchase":3091.7999999999993},"executionDuration":0,"boundObjectsAtEnd":{"eligibleAmount":2991.7999999999993,"purchase":3091.7999999999993}}}],"output":{"eligibleAmount":2991.7999999999993,"purchase":3091.7999999999993},"input":{"eligibleAmount":null,"purchase":3091.7999999999993},"kind":"Decision","name":"Eligible amount","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Remove the first 100"]}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.4","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.4.1","properties":{"actionIndex":"8","name":"Apply reward table","boundObjectsAtStart":{"eligibleAmount":2991.7999999999993,"walletMultipler":null,"customer":"decisions.retail.loyalty_program.data.Customer@ae74033b"},"executionDuration":0,"boundObjectsAtEnd":{"eligibleAmount":2991.7999999999993,"walletMultipler":0.03,"customer":"decisions.retail.loyalty_program.data.Customer@ae74033b"}}}],"output":{"eligibleAmount":2991.7999999999993,"walletMultipler":0.03,"customer":"decisions.retail.loyalty_program.data.Customer@ae74033b"},"input":{"eligibleAmount":2991.7999999999993,"walletMultipler":null,"customer":"decisions.retail.loyalty_program.data.Customer@ae74033b"},"kind":"Decision","name":"Wallet multipler","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Apply reward table"]}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.5","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.5.1","properties":{"actionIndex":"0","name":"Apply reward","boundObjectsAtStart":{"eligibleAmount":2991.7999999999993,"walletMultipler":0.03,"walletReward":null,"customer":"decisions.retail.loyalty_program.data.Customer@ae74033b"},"executionDuration":0,"boundObjectsAtEnd":{"eligibleAmount":2991.7999999999993,"walletMultipler":0.03,"walletReward":"decisions.retail.loyalty_program.data.Customer@f5373615","customer":"decisions.retail.loyalty_program.data.Customer@ae74033b"}}}],"output":{"eligibleAmount":2991.7999999999993,"walletMultipler":0.03,"walletReward":"decisions.retail.loyalty_program.data.Customer@f5373615","customer":"decisions.retail.loyalty_program.data.Customer@ae74033b"},"input":{"eligibleAmount":2991.7999999999993,"walletMultipler":0.03,"walletReward":null,"customer":"decisions.retail.loyalty_program.data.Customer@ae74033b"},"kind":"Decision","name":"Wallet reward","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Apply reward"]}}],"output":{"walletReward":"decisions.retail.loyalty_program.data.Customer@f5373615"},"input":{"purchase":3091.7999999999993,"customer":"decisions.retail.loyalty_program.data.Customer@ae74033b"},"name":"WalletReward-wallet-reward","executionDuration":0}}],"actionIndex":"4","name":"Update customers total amount and wallet","boundObjectsAtStart":{"discountedPrice":3091.7999999999993,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@ae74033b","bestOffer":"decisions.retail.loyalty_program.data.Offer@df5d0882","customer":"decisions.retail.loyalty_program.data.Customer@ab203a5"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":3091.7999999999993,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@ae74033b","bestOffer":"decisions.retail.loyalty_program.data.Offer@df5d0882","customer":"decisions.retail.loyalty_program.data.Customer@ab203a5"}}},{"recordType":"Rule","recordIndex":"1.8.4","properties":{"nestedRecords":[{"recordType":"DecisionModel","recordIndex":"1.8.4.1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.8.4.1.1","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@ae74033b"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@ae74033b"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.4.1.2","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.4.1.2.1","properties":{"actionIndex":"0","name":"Copy customer information","boundObjectsAtStart":{"customerUpgrade":null,"customer":"decisions.retail.loyalty_program.data.Customer@ae74033b"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@bf20add5","customer":"decisions.retail.loyalty_program.data.Customer@ae74033b"}}},{"recordType":"Rule","recordIndex":"1.8.4.1.2.2","properties":{"actionIndex":"4","name":"Upgrade table","boundObjectsAtStart":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@bf20add5","customer":"decisions.retail.loyalty_program.data.Customer@ae74033b"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@bf20add5","customer":"decisions.retail.loyalty_program.data.Customer@ae74033b"}}},{"recordType":"Rule","recordIndex":"1.8.4.1.2.3","properties":{"actionIndex":"10","name":"Bonus table","boundObjectsAtStart":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@bf20add5","customer":"decisions.retail.loyalty_program.data.Customer@ae74033b"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@bf20add5","customer":"decisions.retail.loyalty_program.data.Customer@ae74033b"}}}],"output":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@bf20add5","customer":"decisions.retail.loyalty_program.data.Customer@ae74033b"},"input":{"customerUpgrade":null,"customer":"decisions.retail.loyalty_program.data.Customer@ae74033b"},"kind":"Decision","name":"Customer upgrade","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Copy customer information","Upgrade table","Bonus table"]}}],"output":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@bf20add5"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@ae74033b"},"name":"CustomerUpgrade-customer-upgrade","executionDuration":0}}],"actionIndex":"6","name":"Update customer status","boundObjectsAtStart":{"discountedPrice":3091.7999999999993,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@ae74033b","bestOffer":"decisions.retail.loyalty_program.data.Offer@df5d0882","customer":"decisions.retail.loyalty_program.data.Customer@ab203a5"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":3091.7999999999993,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@bf20add5","bestOffer":"decisions.retail.loyalty_program.data.Offer@df5d0882","customer":"decisions.retail.loyalty_program.data.Customer@ab203a5"}}}],"output":{"discountedPrice":3091.7999999999993,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@bf20add5","bestOffer":"decisions.retail.loyalty_program.data.Offer@df5d0882","customer":"decisions.retail.loyalty_program.data.Customer@ab203a5"},"input":{"discountedPrice":3091.7999999999993,"updatedCustomer":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@df5d0882","customer":"decisions.retail.loyalty_program.data.Customer@ab203a5"},"kind":"Decision","name":"Updated customer","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":["Add Coupon","Add Wallet discount"],"allRules":["Copy customer information","Add Coupon","Add Wallet discount","Add Discount offer","Update customers total amount and wallet","Update customer status"]}}],"output":{"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@bf20add5","finalPrice":3091.7999999999993},"input":{"order":"java.util.ArrayList@344314d7","customer":"decisions.retail.loyalty_program.data.Customer@ab203a5"},"name":"ApplyLoyaltyPolicies-apply-loyalty-policies","executionDuration":1}},"printedMessages":[{"recordIndex":"1.4.2","message":"Offer type is: Discount"},{"recordIndex":"1.5.1","message":"Discount is: 10.0% or 344.0"},{"recordIndex":"1.8.2","message":"Offer is Discount: 344.0"},{"recordIndex":"1.8.3.1.5.1","message":"Wallet reward is: 90.0"}],"configuration":{"printedMessages":true,"ruleflow":{"executedTasks":true,"notExecutedTasks":true,"allTasks":true,"selectedRules":true,"inputParameters":"ClassNameNHashcode","outputParameters":"ClassNameNHashcode"},"decisionModel":{"inputNode":"ClassNameNHashcode","outputNode":"ClassNameNHashcode","inputParameters":"ClassNameNHashcode","outputParameters":"ClassNameNHashcode"},"rules":{"executedRules":true,"boundObjectsAtStart":"ClassNameNHashcode","boundObjectsAtEnd":"ClassNameNHashcode","nonExecutedRules":true,"allRules":true,"exceptions":"None"},"executionDuration":true},"exceptionsRaised":[]},"response":{"updatedCustomer":{"offers":[{"coupon":null,"description":"Discount on this order (10.0%)","type":"Discount","value":344}],"totalAmount":5169.799999999999,"name":"Stephen Jenkins","status":"Platinum","walletAmount":1011},"__DecisionID__":"7bd355e1-081d-42db-8d76-bb31f5f6dc4a","finalPrice":3091.7999999999993}}
{"request":{"customer":{"offers":[],"totalAmount":9900,"name":"Darryl Todd","status":"Platinum","walletAmount":920},"order":[{"price":38.99,"name":"SF Slim Lens Pouch 75 AW"},{"price":349.99,"name":"M.Zuiko Digital ED 40-150mm f/4-5.6 R Lens (Silver)"},{"price":59.99,"name":"IOGEAR Wireless Screen Sharing and MiraCast Kit (GWSSKIT)"},{"price":20.99,"name":"DENAQ - AC Power Adapter and Charger for Select HP Omnibook, Pavilion and Presario Laptops - Black"},{"price":249.95,"name":"Sennheiser - HD 599 Over-the-Ear Headphones HD 5 - Brown/ivory/matte metallic"},{"price":168,"name":"Samsung - 850 EVO 500GB Internal SATA Solid State Drive for Laptops and PC"},{"price":201.39,"name":"Get Up Stand Bluetooth Home Audio System"},{"price":199.99,"name":"Leviathan Elite Gaming Soundbar"},{"price":249.99,"name":"Bose® - Companion® 20 Multimedia Speaker System (2-Piece) - White"}]},"trace":{"rootRecord":{"recordType":"DecisionModel","recordIndex":"1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.1","properties":{"output":{"order":"java.util.ArrayList@637dc0e"},"input":{"order":"java.util.ArrayList@637dc0e"},"kind":"InputData","name":"Order","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.2","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@1de4bb6f"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@1de4bb6f"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.3","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.3.1","properties":{"actionIndex":"0","name":"Sum","boundObjectsAtStart":{"orderAmount":null,"order":"java.util.ArrayList@637dc0e"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":1539.2800000000002,"order":"java.util.ArrayList@637dc0e"}}}],"output":{"orderAmount":1539.2800000000002,"order":"java.util.ArrayList@637dc0e"},"input":{"orderAmount":null,"order":"java.util.ArrayList@637dc0e"},"kind":"Decision","name":"Order amount","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Sum"]}},{"recordType":"DecisionModelNode","recordIndex":"1.4","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.4.1","properties":{"actionIndex":"1","name":"Coupon for small transactions","boundObjectsAtStart":{"orderAmount":1539.2800000000002,"bestOfferType":null,"customer":"decisions.retail.loyalty_program.data.Customer@1de4bb6f","order":"java.util.ArrayList@637dc0e"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":1539.2800000000002,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@1de4bb6f","order":"java.util.ArrayList@637dc0e"}}},{"recordType":"Rule","recordIndex":"1.4.2","properties":{"actionIndex":"5","name":"Print","boundObjectsAtStart":{"orderAmount":1539.2800000000002,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@1de4bb6f","order":"java.util.ArrayList@637dc0e"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":1539.2800000000002,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@1de4bb6f","order":"java.util.ArrayList@637dc0e"}}}],"output":{"orderAmount":1539.2800000000002,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@1de4bb6f","order":"java.util.ArrayList@637dc0e"},"input":{"orderAmount":1539.2800000000002,"bestOfferType":null,"customer":"decisions.retail.loyalty_program.data.Customer@1de4bb6f","order":"java.util.ArrayList@637dc0e"},"kind":"Decision","name":"Best offer type","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":["Limit number of coupons","Discount into wallet for small transactions"],"allRules":["Coupon for small transactions","Limit number of coupons","Discount into wallet for small transactions","Print"]}},{"recordType":"DecisionModelNode","recordIndex":"1.5","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.5.1","properties":{"actionIndex":"0","name":"Discount or Wallet offer","boundObjectsAtStart":{"orderAmount":1539.2800000000002,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":null,"customer":"decisions.retail.loyalty_program.data.Customer@1de4bb6f","order":"java.util.ArrayList@637dc0e"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":1539.2800000000002,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":"decisions.retail.loyalty_program.data.Offer@78df1cfa","customer":"decisions.retail.loyalty_program.data.Customer@1de4bb6f","order":"java.util.ArrayList@637dc0e"}}}],"output":{"orderAmount":1539.2800000000002,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":"decisions.retail.loyalty_program.data.Offer@78df1cfa","customer":"decisions.retail.loyalty_program.data.Customer@1de4bb6f","order":"java.util.ArrayList@637dc0e"},"input":{"orderAmount":1539.2800000000002,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":null,"customer":"decisions.retail.loyalty_program.data.Customer@1de4bb6f","order":"java.util.ArrayList@637dc0e"},"kind":"Decision","name":"Best offer","hitPolicy":"first","executionDuration":0,"nonExecutedRules":["Coupon"],"allRules":["Discount or Wallet offer","Coupon"]}},{"recordType":"DecisionModelNode","recordIndex":"1.6","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.6.1","properties":{"actionIndex":"0","name":"Compute order amount after discount","boundObjectsAtStart":{"orderAmount":1539.2800000000002,"discountedPrice":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@78df1cfa"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":1539.2800000000002,"discountedPrice":1308.2800000000002,"bestOffer":"decisions.retail.loyalty_program.data.Offer@78df1cfa"}}}],"output":{"orderAmount":1539.2800000000002,"discountedPrice":1308.2800000000002,"bestOffer":"decisions.retail.loyalty_program.data.Offer@78df1cfa"},"input":{"orderAmount":1539.2800000000002,"discountedPrice":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@78df1cfa"},"kind":"Decision","name":"Discounted price","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Compute order amount after discount"]}},{"recordType":"DecisionModelNode","recordIndex":"1.7","properties":{"output":{"discountedPrice":1308.2800000000002,"finalPrice":1308.2800000000002},"input":{"discountedPrice":1308.2800000000002,"finalPrice":null},"defaultValueBefore":{"discountedPrice":1308.2800000000002,"finalPrice":null},"kind":"Decision","name":"Final price","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"defaultValueAfter":{"discountedPrice":1308.2800000000002,"finalPrice":1308.2800000000002},"allRules":[]}},{"recordType":"DecisionModelNode","recordIndex":"1.8","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.1","properties":{"actionIndex":"0","name":"Copy customer information","boundObjectsAtStart":{"discountedPrice":1308.2800000000002,"updatedCustomer":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@78df1cfa","customer":"decisions.retail.loyalty_program.data.Customer@1de4bb6f"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":1308.2800000000002,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@f645a04e","bestOffer":"decisions.retail.loyalty_program.data.Offer@78df1cfa","customer":"decisions.retail.loyalty_program.data.Customer@1de4bb6f"}}},{"recordType":"Rule","recordIndex":"1.8.2","properties":{"actionIndex":"3","name":"Add Discount offer","boundObjectsAtStart":{"discountedPrice":1308.2800000000002,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@f645a04e","bestOffer":"decisions.retail.loyalty_program.data.Offer@78df1cfa","customer":"decisions.retail.loyalty_program.data.Customer@1de4bb6f"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":1308.2800000000002,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@f645a04e","bestOffer":"decisions.retail.loyalty_program.data.Offer@78df1cfa","customer":"decisions.retail.loyalty_program.data.Customer@1de4bb6f"}}},{"recordType":"Rule","recordIndex":"1.8.3","properties":{"nestedRecords":[{"recordType":"DecisionModel","recordIndex":"1.8.3.1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.1","properties":{"output":{"purchase":1308.2800000000002},"input":{"purchase":1308.2800000000002},"kind":"InputData","name":"Purchase","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.2","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@f645a04e"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@f645a04e"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.3","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.3.1","properties":{"actionIndex":"0","name":"Remove the first 100","boundObjectsAtStart":{"eligibleAmount":null,"purchase":1308.2800000000002},"executionDuration":0,"boundObjectsAtEnd":{"eligibleAmount":1208.2800000000002,"purchase":1308.2800000000002}}}],"output":{"eligibleAmount":1208.2800000000002,"purchase":1308.2800000000002},"input":{"eligibleAmount":null,"purchase":1308.2800000000002},"kind":"Decision","name":"Eligible amount","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Remove the first 100"]}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.4","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.4.1","properties":{"actionIndex":"10","name":"Apply reward table","boundObjectsAtStart":{"eligibleAmount":1208.2800000000002,"walletMultipler":null,"customer":"decisions.retail.loyalty_program.data.Customer@f645a04e"},"executionDuration":0,"boundObjectsAtEnd":{"eligibleAmount":1208.2800000000002,"walletMultipler":0.03,"customer":"decisions.retail.loyalty_program.data.Customer@f645a04e"}}}],"output":{"eligibleAmount":1208.2800000000002,"walletMultipler":0.03,"customer":"decisions.retail.loyalty_program.data.Customer@f645a04e"},"input":{"eligibleAmount":1208.2800000000002,"walletMultipler":null,"customer":"decisions.retail.loyalty_program.data.Customer@f645a04e"},"kind":"Decision","name":"Wallet multipler","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Apply reward table"]}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.5","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.5.1","properties":{"actionIndex":"0","name":"Apply reward","boundObjectsAtStart":{"eligibleAmount":1208.2800000000002,"walletMultipler":0.03,"walletReward":null,"customer":"decisions.retail.loyalty_program.data.Customer@f645a04e"},"executionDuration":0,"boundObjectsAtEnd":{"eligibleAmount":1208.2800000000002,"walletMultipler":0.03,"walletReward":"decisions.retail.loyalty_program.data.Customer@2de76e7","customer":"decisions.retail.loyalty_program.data.Customer@f645a04e"}}}],"output":{"eligibleAmount":1208.2800000000002,"walletMultipler":0.03,"walletReward":"decisions.retail.loyalty_program.data.Customer@2de76e7","customer":"decisions.retail.loyalty_program.data.Customer@f645a04e"},"input":{"eligibleAmount":1208.2800000000002,"walletMultipler":0.03,"walletReward":null,"customer":"decisions.retail.loyalty_program.data.Customer@f645a04e"},"kind":"Decision","name":"Wallet reward","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Apply reward"]}}],"output":{"walletReward":"decisions.retail.loyalty_program.data.Customer@2de76e7"},"input":{"purchase":1308.2800000000002,"customer":"decisions.retail.loyalty_program.data.Customer@f645a04e"},"name":"WalletReward-wallet-reward","executionDuration":1}}],"actionIndex":"4","name":"Update customers total amount and wallet","boundObjectsAtStart":{"discountedPrice":1308.2800000000002,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@f645a04e","bestOffer":"decisions.retail.loyalty_program.data.Offer@78df1cfa","customer":"decisions.retail.loyalty_program.data.Customer@1de4bb6f"},"executionDuration":1,"boundObjectsAtEnd":{"discountedPrice":1308.2800000000002,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@f645a04e","bestOffer":"decisions.retail.loyalty_program.data.Offer@78df1cfa","customer":"decisions.retail.loyalty_program.data.Customer@1de4bb6f"}}},{"recordType":"Rule","recordIndex":"1.8.4","properties":{"nestedRecords":[{"recordType":"DecisionModel","recordIndex":"1.8.4.1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.8.4.1.1","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@f645a04e"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@f645a04e"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.4.1.2","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.4.1.2.1","properties":{"actionIndex":"0","name":"Copy customer information","boundObjectsAtStart":{"customerUpgrade":null,"customer":"decisions.retail.loyalty_program.data.Customer@f645a04e"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@2c8053c1","customer":"decisions.retail.loyalty_program.data.Customer@f645a04e"}}},{"recordType":"Rule","recordIndex":"1.8.4.1.2.2","properties":{"actionIndex":"4","name":"Upgrade table","boundObjectsAtStart":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@2c8053c1","customer":"decisions.retail.loyalty_program.data.Customer@f645a04e"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@2c8053c1","customer":"decisions.retail.loyalty_program.data.Customer@f645a04e"}}}],"output":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@2c8053c1","customer":"decisions.retail.loyalty_program.data.Customer@f645a04e"},"input":{"customerUpgrade":null,"customer":"decisions.retail.loyalty_program.data.Customer@f645a04e"},"kind":"Decision","name":"Customer upgrade","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":["Bonus table"],"allRules":["Copy customer information","Upgrade table","Bonus table"]}}],"output":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@2c8053c1"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@f645a04e"},"name":"CustomerUpgrade-customer-upgrade","executionDuration":0}}],"actionIndex":"6","name":"Update customer status","boundObjectsAtStart":{"discountedPrice":1308.2800000000002,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@f645a04e","bestOffer":"decisions.retail.loyalty_program.data.Offer@78df1cfa","customer":"decisions.retail.loyalty_program.data.Customer@1de4bb6f"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":1308.2800000000002,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@2c8053c1","bestOffer":"decisions.retail.loyalty_program.data.Offer@78df1cfa","customer":"decisions.retail.loyalty_program.data.Customer@1de4bb6f"}}}],"output":{"discountedPrice":1308.2800000000002,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@2c8053c1","bestOffer":"decisions.retail.loyalty_program.data.Offer@78df1cfa","customer":"decisions.retail.loyalty_program.data.Customer@1de4bb6f"},"input":{"discountedPrice":1308.2800000000002,"updatedCustomer":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@78df1cfa","customer":"decisions.retail.loyalty_program.data.Customer@1de4bb6f"},"kind":"Decision","name":"Updated customer","hitPolicy":"sequence","executionDuration":1,"nonExecutedRules":["Add Coupon","Add Wallet discount"],"allRules":["Copy customer information","Add Coupon","Add Wallet discount","Add Discount offer","Update customers total amount and wallet","Update customer status"]}}],"output":{"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@2c8053c1","finalPrice":1308.2800000000002},"input":{"order":"java.util.ArrayList@637dc0e","customer":"decisions.retail.loyalty_program.data.Customer@1de4bb6f"},"name":"ApplyLoyaltyPolicies-apply-loyalty-policies","executionDuration":2}},"printedMessages":[{"recordIndex":"1.4.2","message":"Offer type is: Discount"},{"recordIndex":"1.5.1","message":"Discount is: 15.0% or 231.0"},{"recordIndex":"1.8.2","message":"Offer is Discount: 231.0"},{"recordIndex":"1.8.3.1.5.1","message":"Wallet reward is: 36.0"}],"configuration":{"printedMessages":true,"ruleflow":{"executedTasks":true,"notExecutedTasks":true,"allTasks":true,"selectedRules":true,"inputParameters":"ClassNameNHashcode","outputParameters":"ClassNameNHashcode"},"decisionModel":{"inputNode":"ClassNameNHashcode","outputNode":"ClassNameNHashcode","inputParameters":"ClassNameNHashcode","outputParameters":"ClassNameNHashcode"},"rules":{"executedRules":true,"boundObjectsAtStart":"ClassNameNHashcode","boundObjectsAtEnd":"ClassNameNHashcode","nonExecutedRules":true,"allRules":true,"exceptions":"None"},"executionDuration":true},"exceptionsRaised":[]},"response":{"updatedCustomer":{"offers":[{"coupon":null,"description":"Discount on this order (15.0%)","type":"Discount","value":231}],"totalAmount":11208.28,"name":"Darryl Todd","status":"Platinum","walletAmount":956},"__DecisionID__":"7271d0a9-2ba6-4890-8fb3-70050394a4c4","finalPrice":1308.2800000000002}}
{"request":{"customer":{"offers":[],"totalAmount":6128,"name":"Steven Wagner","status":"Bronze","walletAmount":106},"order":[{"price":509,"name":"Apple - iPad mini 4 Wi-Fi + Cellular 128GB - Sprint - Silver"},{"price":77.99,"name":"Kenwood KFC-1653MRW 6.5 2-way Marine Speakers Pair (White)\""},{"price":67.99,"name":"Corsair CMSA8GX3M2A1066C7 Apple 8 GB Dual Channel Kit DDR3 1066 (PC3 8500) 204-Pin DDR3 Laptop SO-DIMM Memory 1.5V"},{"price":4299.99,"name":"Refurbished Samsung Curved 65 4K (2160P) Smart QLED TV (2017 Model) + 1 Year Extended Warranty (QN65Q7CAMFXZA)\""},{"price":27.99,"name":"Dell DW316 External USB Slim DVD R/W Optical Drive 429-AAUX"},{"price":399,"name":"Pioneer - 5.1-Ch. 4K Ultra HD HDR Compatible A/V Home Theater Receiver - Black"}]},"trace":{"rootRecord":{"recordType":"DecisionModel","recordIndex":"1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.1","properties":{"output":{"order":"java.util.ArrayList@31251669"},"input":{"order":"java.util.ArrayList@31251669"},"kind":"InputData","name":"Order","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.2","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@f7a8502b"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@f7a8502b"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.3","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.3.1","properties":{"actionIndex":"0","name":"Sum","boundObjectsAtStart":{"orderAmount":null,"order":"java.util.ArrayList@31251669"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":5381.959999999999,"order":"java.util.ArrayList@31251669"}}}],"output":{"orderAmount":5381.959999999999,"order":"java.util.ArrayList@31251669"},"input":{"orderAmount":null,"order":"java.util.ArrayList@31251669"},"kind":"Decision","name":"Order amount","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Sum"]}},{"recordType":"DecisionModelNode","recordIndex":"1.4","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.4.1","properties":{"actionIndex":"1","name":"Coupon for small transactions","boundObjectsAtStart":{"orderAmount":5381.959999999999,"bestOfferType":null,"customer":"decisions.retail.loyalty_program.data.Customer@f7a8502b","order":"java.util.ArrayList@31251669"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":5381.959999999999,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@f7a8502b","order":"java.util.ArrayList@31251669"}}},{"recordType":"Rule","recordIndex":"1.4.2","properties":{"actionIndex":"5","name":"Print","boundObjectsAtStart":{"orderAmount":5381.959999999999,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@f7a8502b","order":"java.util.ArrayList@31251669"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":5381.959999999999,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@f7a8502b","order":"java.util.ArrayList@31251669"}}}],"output":{"orderAmount":5381.959999999999,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@f7a8502b","order":"java.util.ArrayList@31251669"},"input":{"orderAmount":5381.959999999999,"bestOfferType":null,"customer":"decisions.retail.loyalty_program.data.Customer@f7a8502b","order":"java.util.ArrayList@31251669"},"kind":"Decision","name":"Best offer type","hitPolicy":"sequence","executionDuration":1,"nonExecutedRules":["Limit number of coupons","Discount into wallet for small transactions"],"allRules":["Coupon for small transactions","Limit number of coupons","Discount into wallet for small transactions","Print"]}},{"recordType":"DecisionModelNode","recordIndex":"1.5","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.5.1","properties":{"actionIndex":"0","name":"Discount or Wallet offer","boundObjectsAtStart":{"orderAmount":5381.959999999999,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":null,"customer":"decisions.retail.loyalty_program.data.Customer@f7a8502b","order":"java.util.ArrayList@31251669"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":5381.959999999999,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":"decisions.retail.loyalty_program.data.Offer@fdb7b642","customer":"decisions.retail.loyalty_program.data.Customer@f7a8502b","order":"java.util.ArrayList@31251669"}}}],"output":{"orderAmount":5381.959999999999,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":"decisions.retail.loyalty_program.data.Offer@fdb7b642","customer":"decisions.retail.loyalty_program.data.Customer@f7a8502b","order":"java.util.ArrayList@31251669"},"input":{"orderAmount":5381.959999999999,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":null,"customer":"decisions.retail.loyalty_program.data.Customer@f7a8502b","order":"java.util.ArrayList@31251669"},"kind":"Decision","name":"Best offer","hitPolicy":"first","executionDuration":0,"nonExecutedRules":["Coupon"],"allRules":["Discount or Wallet offer","Coupon"]}},{"recordType":"DecisionModelNode","recordIndex":"1.6","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.6.1","properties":{"actionIndex":"0","name":"Compute order amount after discount","boundObjectsAtStart":{"orderAmount":5381.959999999999,"discountedPrice":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@fdb7b642"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":5381.959999999999,"discountedPrice":5381.959999999999,"bestOffer":"decisions.retail.loyalty_program.data.Offer@fdb7b642"}}}],"output":{"orderAmount":5381.959999999999,"discountedPrice":5381.959999999999,"bestOffer":"decisions.retail.loyalty_program.data.Offer@fdb7b642"},"input":{"orderAmount":5381.959999999999,"discountedPrice":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@fdb7b642"},"kind":"Decision","name":"Discounted price","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Compute order amount after discount"]}},{"recordType":"DecisionModelNode","recordIndex":"1.7","properties":{"output":{"discountedPrice":5381.959999999999,"finalPrice":5381.959999999999},"input":{"discountedPrice":5381.959999999999,"finalPrice":null},"defaultValueBefore":{"discountedPrice":5381.959999999999,"finalPrice":null},"kind":"Decision","name":"Final price","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"defaultValueAfter":{"discountedPrice":5381.959999999999,"finalPrice":5381.959999999999},"allRules":[]}},{"recordType":"DecisionModelNode","recordIndex":"1.8","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.1","properties":{"actionIndex":"0","name":"Copy customer information","boundObjectsAtStart":{"discountedPrice":5381.959999999999,"updatedCustomer":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@fdb7b642","customer":"decisions.retail.loyalty_program.data.Customer@f7a8502b"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":5381.959999999999,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@edca4c02","bestOffer":"decisions.retail.loyalty_program.data.Offer@fdb7b642","customer":"decisions.retail.loyalty_program.data.Customer@f7a8502b"}}},{"recordType":"Rule","recordIndex":"1.8.2","properties":{"actionIndex":"3","name":"Add Discount offer","boundObjectsAtStart":{"discountedPrice":5381.959999999999,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@edca4c02","bestOffer":"decisions.retail.loyalty_program.data.Offer@fdb7b642","customer":"decisions.retail.loyalty_program.data.Customer@f7a8502b"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":5381.959999999999,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@edca4c02","bestOffer":"decisions.retail.loyalty_program.data.Offer@fdb7b642","customer":"decisions.retail.loyalty_program.data.Customer@f7a8502b"}}},{"recordType":"Rule","recordIndex":"1.8.3","properties":{"nestedRecords":[{"recordType":"DecisionModel","recordIndex":"1.8.3.1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.1","properties":{"output":{"purchase":5381.959999999999},"input":{"purchase":5381.959999999999},"kind":"InputData","name":"Purchase","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.2","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@edca4c02"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@edca4c02"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.3","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.3.1","properties":{"actionIndex":"0","name":"Remove the first 100","boundObjectsAtStart":{"eligibleAmount":null,"purchase":5381.959999999999},"executionDuration":0,"boundObjectsAtEnd":{"eligibleAmount":5281.959999999999,"purchase":5381.959999999999}}}],"output":{"eligibleAmount":5281.959999999999,"purchase":5381.959999999999},"input":{"eligibleAmount":null,"purchase":5381.959999999999},"kind":"Decision","name":"Eligible amount","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Remove the first 100"]}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.4","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.4.1","properties":{"actionIndex":"2","name":"Apply reward table","boundObjectsAtStart":{"eligibleAmount":5281.959999999999,"walletMultipler":null,"customer":"decisions.retail.loyalty_program.data.Customer@edca4c02"},"executionDuration":1,"boundObjectsAtEnd":{"eligibleAmount":5281.959999999999,"walletMultipler":0.02,"customer":"decisions.retail.loyalty_program.data.Customer@edca4c02"}}}],"output":{"eligibleAmount":5281.959999999999,"walletMultipler":0.02,"customer":"decisions.retail.loyalty_program.data.Customer@edca4c02"},"input":{"eligibleAmount":5281.959999999999,"walletMultipler":null,"customer":"decisions.retail.loyalty_program.data.Customer@edca4c02"},"kind":"Decision","name":"Wallet multipler","hitPolicy":"sequence","executionDuration":1,"nonExecutedRules":[],"allRules":["Apply reward table"]}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.5","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.5.1","properties":{"actionIndex":"0","name":"Apply reward","boundObjectsAtStart":{"eligibleAmount":5281.959999999999,"walletMultipler":0.02,"walletReward":null,"customer":"decisions.retail.loyalty_program.data.Customer@edca4c02"},"executionDuration":0,"boundObjectsAtEnd":{"eligibleAmount":5281.959999999999,"walletMultipler":0.02,"walletReward":"decisions.retail.loyalty_program.data.Customer@5ce9981a","customer":"decisions.retail.loyalty_program.data.Customer@edca4c02"}}}],"output":{"eligibleAmount":5281.959999999999,"walletMultipler":0.02,"walletReward":"decisions.retail.loyalty_program.data.Customer@5ce9981a","customer":"decisions.retail.loyalty_program.data.Customer@edca4c02"},"input":{"eligibleAmount":5281.959999999999,"walletMultipler":0.02,"walletReward":null,"customer":"decisions.retail.loyalty_program.data.Customer@edca4c02"},"kind":"Decision","name":"Wallet reward","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Apply reward"]}}],"output":{"walletReward":"decisions.retail.loyalty_program.data.Customer@5ce9981a"},"input":{"purchase":5381.959999999999,"customer":"decisions.retail.loyalty_program.data.Customer@edca4c02"},"name":"WalletReward-wallet-reward","executionDuration":1}}],"actionIndex":"4","name":"Update customers total amount and wallet","boundObjectsAtStart":{"discountedPrice":5381.959999999999,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@edca4c02","bestOffer":"decisions.retail.loyalty_program.data.Offer@fdb7b642","customer":"decisions.retail.loyalty_program.data.Customer@f7a8502b"},"executionDuration":1,"boundObjectsAtEnd":{"discountedPrice":5381.959999999999,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@edca4c02","bestOffer":"decisions.retail.loyalty_program.data.Offer@fdb7b642","customer":"decisions.retail.loyalty_program.data.Customer@f7a8502b"}}},{"recordType":"Rule","recordIndex":"1.8.4","properties":{"nestedRecords":[{"recordType":"DecisionModel","recordIndex":"1.8.4.1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.8.4.1.1","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@edca4c02"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@edca4c02"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.4.1.2","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.4.1.2.1","properties":{"actionIndex":"0","name":"Copy customer information","boundObjectsAtStart":{"customerUpgrade":null,"customer":"decisions.retail.loyalty_program.data.Customer@edca4c02"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@1e9ed579","customer":"decisions.retail.loyalty_program.data.Customer@edca4c02"}}},{"recordType":"Rule","recordIndex":"1.8.4.1.2.2","properties":{"actionIndex":"4","name":"Upgrade table","boundObjectsAtStart":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@1e9ed579","customer":"decisions.retail.loyalty_program.data.Customer@edca4c02"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@1e9ed579","customer":"decisions.retail.loyalty_program.data.Customer@edca4c02"}}},{"recordType":"Rule","recordIndex":"1.8.4.1.2.3","properties":{"actionIndex":"7","name":"Bonus table","boundObjectsAtStart":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@1e9ed579","customer":"decisions.retail.loyalty_program.data.Customer@edca4c02"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@1e9ed579","customer":"decisions.retail.loyalty_program.data.Customer@edca4c02"}}}],"output":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@1e9ed579","customer":"decisions.retail.loyalty_program.data.Customer@edca4c02"},"input":{"customerUpgrade":null,"customer":"decisions.retail.loyalty_program.data.Customer@edca4c02"},"kind":"Decision","name":"Customer upgrade","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Copy customer information","Upgrade table","Bonus table"]}}],"output":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@1e9ed579"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@edca4c02"},"name":"CustomerUpgrade-customer-upgrade","executionDuration":0}}],"actionIndex":"6","name":"Update customer status","boundObjectsAtStart":{"discountedPrice":5381.959999999999,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@edca4c02","bestOffer":"decisions.retail.loyalty_program.data.Offer@fdb7b642","customer":"decisions.retail.loyalty_program.data.Customer@f7a8502b"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":5381.959999999999,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@1e9ed579","bestOffer":"decisions.retail.loyalty_program.data.Offer@fdb7b642","customer":"decisions.retail.loyalty_program.data.Customer@f7a8502b"}}}],"output":{"discountedPrice":5381.959999999999,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@1e9ed579","bestOffer":"decisions.retail.loyalty_program.data.Offer@fdb7b642","customer":"decisions.retail.loyalty_program.data.Customer@f7a8502b"},"input":{"discountedPrice":5381.959999999999,"updatedCustomer":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@fdb7b642","customer":"decisions.retail.loyalty_program.data.Customer@f7a8502b"},"kind":"Decision","name":"Updated customer","hitPolicy":"sequence","executionDuration":1,"nonExecutedRules":["Add Coupon","Add Wallet discount"],"allRules":["Copy customer information","Add Coupon","Add Wallet discount","Add Discount offer","Update customers total amount and wallet","Update customer status"]}}],"output":{"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@1e9ed579","finalPrice":5381.959999999999},"input":{"order":"java.util.ArrayList@31251669","customer":"decisions.retail.loyalty_program.data.Customer@f7a8502b"},"name":"ApplyLoyaltyPolicies-apply-loyalty-policies","executionDuration":2}},"printedMessages":[{"recordIndex":"1.4.2","message":"Offer type is: Discount"},{"recordIndex":"1.5.1","message":"Discount is: 0.0% or 0.0"},{"recordIndex":"1.8.2","message":"Offer is Discount: 0.0"},{"recordIndex":"1.8.3.1.5.1","message":"Wallet reward is: 106.0"}],"configuration":{"printedMessages":true,"ruleflow":{"executedTasks":true,"notExecutedTasks":true,"allTasks":true,"selectedRules":true,"inputParameters":"ClassNameNHashcode","outputParameters":"ClassNameNHashcode"},"decisionModel":{"inputNode":"ClassNameNHashcode","outputNode":"ClassNameNHashcode","inputParameters":"ClassNameNHashcode","outputParameters":"ClassNameNHashcode"},"rules":{"executedRules":true,"boundObjectsAtStart":"ClassNameNHashcode","boundObjectsAtEnd":"ClassNameNHashcode","nonExecutedRules":true,"allRules":true,"exceptions":"None"},"executionDuration":true},"exceptionsRaised":[]},"response":{"updatedCustomer":{"offers":[{"coupon":null,"description":"Discount on this order (0.0%)","type":"Discount","value":0}],"totalAmount":11509.96,"name":"Steven Wagner","status":"Platinum","walletAmount":272},"__DecisionID__":"5eb3eade-7196-4de1-8389-af995ee40e6f","finalPrice":5381.959999999999}}
{"request":{"customer":{"offers":[],"totalAmount":8670,"name":"Ryan Peterson","status":"Bronze","walletAmount":961},"order":[{"price":39.99,"name":"Details About Fits Chevy Silverado Pickup 19992006 Speaker Upgrade Pioneer Tsg1345r Tsg4620s"},{"price":89.99,"name":"Yamaha - Natural Sound 5 2-Way All-Weather Outdoor Speakers (Pair) - White\""}]},"trace":{"rootRecord":{"recordType":"DecisionModel","recordIndex":"1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.1","properties":{"output":{"order":"java.util.ArrayList@a5ac4da4"},"input":{"order":"java.util.ArrayList@a5ac4da4"},"kind":"InputData","name":"Order","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.2","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@ee363083"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@ee363083"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.3","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.3.1","properties":{"actionIndex":"0","name":"Sum","boundObjectsAtStart":{"orderAmount":null,"order":"java.util.ArrayList@a5ac4da4"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":129.98,"order":"java.util.ArrayList@a5ac4da4"}}}],"output":{"orderAmount":129.98,"order":"java.util.ArrayList@a5ac4da4"},"input":{"orderAmount":null,"order":"java.util.ArrayList@a5ac4da4"},"kind":"Decision","name":"Order amount","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Sum"]}},{"recordType":"DecisionModelNode","recordIndex":"1.4","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.4.1","properties":{"actionIndex":"0","name":"Coupon for small transactions","boundObjectsAtStart":{"orderAmount":129.98,"bestOfferType":null,"customer":"decisions.retail.loyalty_program.data.Customer@ee363083","order":"java.util.ArrayList@a5ac4da4"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":129.98,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@e282bb6c","customer":"decisions.retail.loyalty_program.data.Customer@ee363083","order":"java.util.ArrayList@a5ac4da4"}}},{"recordType":"Rule","recordIndex":"1.4.2","properties":{"actionIndex":"4","name":"Print","boundObjectsAtStart":{"orderAmount":129.98,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@e282bb6c","customer":"decisions.retail.loyalty_program.data.Customer@ee363083","order":"java.util.ArrayList@a5ac4da4"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":129.98,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@e282bb6c","customer":"decisions.retail.loyalty_program.data.Customer@ee363083","order":"java.util.ArrayList@a5ac4da4"}}}],"output":{"orderAmount":129.98,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@e282bb6c","customer":"decisions.retail.loyalty_program.data.Customer@ee363083","order":"java.util.ArrayList@a5ac4da4"},"input":{"orderAmount":129.98,"bestOfferType":null,"customer":"decisions.retail.loyalty_program.data.Customer@ee363083","order":"java.util.ArrayList@a5ac4da4"},"kind":"Decision","name":"Best offer type","hitPolicy":"sequence","executionDuration":1,"nonExecutedRules":["Limit number of coupons","Discount into wallet for small transactions"],"allRules":["Coupon for small transactions","Limit number of coupons","Discount into wallet for small transactions","Print"]}},{"recordType":"DecisionModelNode","recordIndex":"1.5","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.5.1","properties":{"actionIndex":"1","name":"Coupon","boundObjectsAtStart":{"orderAmount":129.98,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@e282bb6c","bestOffer":null,"customer":"decisions.retail.loyalty_program.data.Customer@ee363083","order":"java.util.ArrayList@a5ac4da4"},"executionDuration":10,"boundObjectsAtEnd":{"orderAmount":129.98,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@e282bb6c","bestOffer":"decisions.retail.loyalty_program.data.Offer@f8109943","customer":"decisions.retail.loyalty_program.data.Customer@ee363083","order":"java.util.ArrayList@a5ac4da4"}}}],"output":{"orderAmount":129.98,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@e282bb6c","bestOffer":"decisions.retail.loyalty_program.data.Offer@f8109943","customer":"decisions.retail.loyalty_program.data.Customer@ee363083","order":"java.util.ArrayList@a5ac4da4"},"input":{"orderAmount":129.98,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@e282bb6c","bestOffer":null,"customer":"decisions.retail.loyalty_program.data.Customer@ee363083","order":"java.util.ArrayList@a5ac4da4"},"kind":"Decision","name":"Best offer","hitPolicy":"first","executionDuration":10,"nonExecutedRules":["Discount or Wallet offer"],"allRules":["Discount or Wallet offer","Coupon"]}},{"recordType":"DecisionModelNode","recordIndex":"1.6","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.6.1","properties":{"actionIndex":"1","name":"Compute order amount after discount","boundObjectsAtStart":{"orderAmount":129.98,"discountedPrice":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@f8109943"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":129.98,"discountedPrice":129.98,"bestOffer":"decisions.retail.loyalty_program.data.Offer@f8109943"}}}],"output":{"orderAmount":129.98,"discountedPrice":129.98,"bestOffer":"decisions.retail.loyalty_program.data.Offer@f8109943"},"input":{"orderAmount":129.98,"discountedPrice":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@f8109943"},"kind":"Decision","name":"Discounted price","hitPolicy":"sequence","executionDuration":1,"nonExecutedRules":[],"allRules":["Compute order amount after discount"]}},{"recordType":"DecisionModelNode","recordIndex":"1.7","properties":{"output":{"discountedPrice":129.98,"finalPrice":129.98},"input":{"discountedPrice":129.98,"finalPrice":null},"defaultValueBefore":{"discountedPrice":129.98,"finalPrice":null},"kind":"Decision","name":"Final price","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"defaultValueAfter":{"discountedPrice":129.98,"finalPrice":129.98},"allRules":[]}},{"recordType":"DecisionModelNode","recordIndex":"1.8","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.1","properties":{"actionIndex":"0","name":"Copy customer information","boundObjectsAtStart":{"discountedPrice":129.98,"updatedCustomer":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@f8109943","customer":"decisions.retail.loyalty_program.data.Customer@ee363083"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":129.98,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@69277b5e","bestOffer":"decisions.retail.loyalty_program.data.Offer@f8109943","customer":"decisions.retail.loyalty_program.data.Customer@ee363083"}}},{"recordType":"Rule","recordIndex":"1.8.2","properties":{"actionIndex":"1","name":"Add Coupon","boundObjectsAtStart":{"discountedPrice":129.98,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@69277b5e","bestOffer":"decisions.retail.loyalty_program.data.Offer@f8109943","customer":"decisions.retail.loyalty_program.data.Customer@ee363083"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":129.98,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@69277b5e","bestOffer":"decisions.retail.loyalty_program.data.Offer@f8109943","customer":"decisions.retail.loyalty_program.data.Customer@ee363083"}}},{"recordType":"Rule","recordIndex":"1.8.3","properties":{"nestedRecords":[{"recordType":"DecisionModel","recordIndex":"1.8.3.1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.1","properties":{"output":{"purchase":129.98},"input":{"purchase":129.98},"kind":"InputData","name":"Purchase","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.2","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@69277b5e"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@69277b5e"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.3","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.3.1","properties":{"actionIndex":"0","name":"Remove the first 100","boundObjectsAtStart":{"eligibleAmount":null,"purchase":129.98},"executionDuration":0,"boundObjectsAtEnd":{"eligibleAmount":29.97999999999999,"purchase":129.98}}}],"output":{"eligibleAmount":29.97999999999999,"purchase":129.98},"input":{"eligibleAmount":null,"purchase":129.98},"kind":"Decision","name":"Eligible amount","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Remove the first 100"]}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.4","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.4.1","properties":{"actionIndex":"0","name":"Apply reward table","boundObjectsAtStart":{"eligibleAmount":29.97999999999999,"walletMultipler":null,"customer":"decisions.retail.loyalty_program.data.Customer@69277b5e"},"executionDuration":0,"boundObjectsAtEnd":{"eligibleAmount":29.97999999999999,"walletMultipler":0.01,"customer":"decisions.retail.loyalty_program.data.Customer@69277b5e"}}}],"output":{"eligibleAmount":29.97999999999999,"walletMultipler":0.01,"customer":"decisions.retail.loyalty_program.data.Customer@69277b5e"},"input":{"eligibleAmount":29.97999999999999,"walletMultipler":null,"customer":"decisions.retail.loyalty_program.data.Customer@69277b5e"},"kind":"Decision","name":"Wallet multipler","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Apply reward table"]}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.5","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.5.1","properties":{"actionIndex":"0","name":"Apply reward","boundObjectsAtStart":{"eligibleAmount":29.97999999999999,"walletMultipler":0.01,"walletReward":null,"customer":"decisions.retail.loyalty_program.data.Customer@69277b5e"},"executionDuration":0,"boundObjectsAtEnd":{"eligibleAmount":29.97999999999999,"walletMultipler":0.01,"walletReward":"decisions.retail.loyalty_program.data.Customer@1419c12f","customer":"decisions.retail.loyalty_program.data.Customer@69277b5e"}}}],"output":{"eligibleAmount":29.97999999999999,"walletMultipler":0.01,"walletReward":"decisions.retail.loyalty_program.data.Customer@1419c12f","customer":"decisions.retail.loyalty_program.data.Customer@69277b5e"},"input":{"eligibleAmount":29.97999999999999,"walletMultipler":0.01,"walletReward":null,"customer":"decisions.retail.loyalty_program.data.Customer@69277b5e"},"kind":"Decision","name":"Wallet reward","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Apply reward"]}}],"output":{"walletReward":"decisions.retail.loyalty_program.data.Customer@1419c12f"},"input":{"purchase":129.98,"customer":"decisions.retail.loyalty_program.data.Customer@69277b5e"},"name":"WalletReward-wallet-reward","executionDuration":0}}],"actionIndex":"5","name":"Update customers total amount and wallet","boundObjectsAtStart":{"discountedPrice":129.98,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@69277b5e","bestOffer":"decisions.retail.loyalty_program.data.Offer@f8109943","customer":"decisions.retail.loyalty_program.data.Customer@ee363083"},"executionDuration":1,"boundObjectsAtEnd":{"discountedPrice":129.98,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@69277b5e","bestOffer":"decisions.retail.loyalty_program.data.Offer@f8109943","customer":"decisions.retail.loyalty_program.data.Customer@ee363083"}}},{"recordType":"Rule","recordIndex":"1.8.4","properties":{"nestedRecords":[{"recordType":"DecisionModel","recordIndex":"1.8.4.1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.8.4.1.1","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@69277b5e"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@69277b5e"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.4.1.2","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.4.1.2.1","properties":{"actionIndex":"0","name":"Copy customer information","boundObjectsAtStart":{"customerUpgrade":null,"customer":"decisions.retail.loyalty_program.data.Customer@69277b5e"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@83f2947f","customer":"decisions.retail.loyalty_program.data.Customer@69277b5e"}}},{"recordType":"Rule","recordIndex":"1.8.4.1.2.2","properties":{"actionIndex":"4","name":"Upgrade table","boundObjectsAtStart":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@83f2947f","customer":"decisions.retail.loyalty_program.data.Customer@69277b5e"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@83f2947f","customer":"decisions.retail.loyalty_program.data.Customer@69277b5e"}}},{"recordType":"Rule","recordIndex":"1.8.4.1.2.3","properties":{"actionIndex":"7","name":"Bonus table","boundObjectsAtStart":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@83f2947f","customer":"decisions.retail.loyalty_program.data.Customer@69277b5e"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@83f2947f","customer":"decisions.retail.loyalty_program.data.Customer@69277b5e"}}}],"output":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@83f2947f","customer":"decisions.retail.loyalty_program.data.Customer@69277b5e"},"input":{"customerUpgrade":null,"customer":"decisions.retail.loyalty_program.data.Customer@69277b5e"},"kind":"Decision","name":"Customer upgrade","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Copy customer information","Upgrade table","Bonus table"]}}],"output":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@83f2947f"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@69277b5e"},"name":"CustomerUpgrade-customer-upgrade","executionDuration":0}}],"actionIndex":"6","name":"Update customer status","boundObjectsAtStart":{"discountedPrice":129.98,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@69277b5e","bestOffer":"decisions.retail.loyalty_program.data.Offer@f8109943","customer":"decisions.retail.loyalty_program.data.Customer@ee363083"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":129.98,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@83f2947f","bestOffer":"decisions.retail.loyalty_program.data.Offer@f8109943","customer":"decisions.retail.loyalty_program.data.Customer@ee363083"}}}],"output":{"discountedPrice":129.98,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@83f2947f","bestOffer":"decisions.retail.loyalty_program.data.Offer@f8109943","customer":"decisions.retail.loyalty_program.data.Customer@ee363083"},"input":{"discountedPrice":129.98,"updatedCustomer":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@f8109943","customer":"decisions.retail.loyalty_program.data.Customer@ee363083"},"kind":"Decision","name":"Updated customer","hitPolicy":"sequence","executionDuration":1,"nonExecutedRules":["Add Wallet discount","Add Discount offer"],"allRules":["Copy customer information","Add Coupon","Add Wallet discount","Add Discount offer","Update customers total amount and wallet","Update customer status"]}}],"output":{"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@83f2947f","finalPrice":129.98},"input":{"order":"java.util.ArrayList@a5ac4da4","customer":"decisions.retail.loyalty_program.data.Customer@ee363083"},"name":"ApplyLoyaltyPolicies-apply-loyalty-policies","executionDuration":13}},"printedMessages":[{"recordIndex":"1.4.2","message":"Offer type is: Coupon"},{"recordIndex":"1.8.2","message":"Offer is Coupon: 0.0"},{"recordIndex":"1.8.3","message":"Order amount: 8799.98"},{"recordIndex":"1.8.3.1.5.1","message":"Wallet reward is: 0.0"}],"configuration":{"printedMessages":true,"ruleflow":{"executedTasks":true,"notExecutedTasks":true,"allTasks":true,"selectedRules":true,"inputParameters":"ClassNameNHashcode","outputParameters":"ClassNameNHashcode"},"decisionModel":{"inputNode":"ClassNameNHashcode","outputNode":"ClassNameNHashcode","inputParameters":"ClassNameNHashcode","outputParameters":"ClassNameNHashcode"},"rules":{"executedRules":true,"boundObjectsAtStart":"ClassNameNHashcode","boundObjectsAtEnd":"ClassNameNHashcode","nonExecutedRules":true,"allRules":true,"exceptions":"None"},"executionDuration":true},"exceptionsRaised":[]},"response":{"updatedCustomer":{"offers":[{"coupon":{"amount":0.1,"monetary":false,"description":"10% off on the product of the week","label":"POW 10"},"description":"10% off on the product of the week","type":"Coupon","value":0}],"totalAmount":8799.98,"name":"Ryan Peterson","status":"Platinum","walletAmount":1021},"__DecisionID__":"fb52efc1-2ac3-4717-abf9-2f96b3b908d8","finalPrice":129.98}}
{"request":{"customer":{"offers":[],"totalAmount":1284,"name":"David Oconnell","status":"Silver","walletAmount":512},"order":[{"price":1099,"name":"Samsung - 65 Class - LED - Curved - MU7500 Series - 2160p - Smart - 4K UHD TV with HDR\""},{"price":59.99,"name":"Details About Alpine 480w 6.5 2way Typee Coaxial Car Speakers W/ Silk Tweeters | Spe6000\""},{"price":117.48,"name":"Jensen174 Portable 3-Speed Stereo Turntable With Built-In Speakers - Black (jta-410 )"},{"price":179.99,"name":"Logitech Circle Black Portable Wifi Video Monitoring Camera Webcam"},{"price":139.99,"name":"Logitech Circle Black Portable Wifi Video Monitoring Camera Webcam"},{"price":55.97,"name":"Kenwood KFC-1653MRW 6.5 2-way Marine Speakers Pair (White)\""},{"price":127.99,"name":"Samsung - 960 EVO 250GB Internal PCI Express 3.0 x4 (NVMe) Solid State Drive for Laptops"},{"price":494.99,"name":"Yamaha - AVENTAGE 7.2-Ch. 4K Ultra HD A/V Home Theater Receiver - Black"},{"price":208.99,"name":"Samsung - 32 Class (31.5\" Diag.) - LED - 720p - Smart - HDTV\""},{"price":66.99,"name":"Alpine - 5 x 7\" 2-Way Coaxial Car Speakers with Poly-Mica Cones (Pair) - Black\""}]},"trace":{"rootRecord":{"recordType":"DecisionModel","recordIndex":"1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.1","properties":{"output":{"order":"java.util.ArrayList@5b16a71c"},"input":{"order":"java.util.ArrayList@5b16a71c"},"kind":"InputData","name":"Order","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.2","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@ed1ac715"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@ed1ac715"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.3","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.3.1","properties":{"actionIndex":"0","name":"Sum","boundObjectsAtStart":{"orderAmount":null,"order":"java.util.ArrayList@5b16a71c"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":2551.38,"order":"java.util.ArrayList@5b16a71c"}}}],"output":{"orderAmount":2551.38,"order":"java.util.ArrayList@5b16a71c"},"input":{"orderAmount":null,"order":"java.util.ArrayList@5b16a71c"},"kind":"Decision","name":"Order amount","hitPolicy":"sequence","executionDuration":3,"nonExecutedRules":[],"allRules":["Sum"]}},{"recordType":"DecisionModelNode","recordIndex":"1.4","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.4.1","properties":{"actionIndex":"1","name":"Coupon for small transactions","boundObjectsAtStart":{"orderAmount":2551.38,"bestOfferType":null,"customer":"decisions.retail.loyalty_program.data.Customer@ed1ac715","order":"java.util.ArrayList@5b16a71c"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":2551.38,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@ed1ac715","order":"java.util.ArrayList@5b16a71c"}}},{"recordType":"Rule","recordIndex":"1.4.2","properties":{"actionIndex":"5","name":"Print","boundObjectsAtStart":{"orderAmount":2551.38,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@ed1ac715","order":"java.util.ArrayList@5b16a71c"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":2551.38,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@ed1ac715","order":"java.util.ArrayList@5b16a71c"}}}],"output":{"orderAmount":2551.38,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@ed1ac715","order":"java.util.ArrayList@5b16a71c"},"input":{"orderAmount":2551.38,"bestOfferType":null,"customer":"decisions.retail.loyalty_program.data.Customer@ed1ac715","order":"java.util.ArrayList@5b16a71c"},"kind":"Decision","name":"Best offer type","hitPolicy":"sequence","executionDuration":1,"nonExecutedRules":["Limit number of coupons","Discount into wallet for small transactions"],"allRules":["Coupon for small transactions","Limit number of coupons","Discount into wallet for small transactions","Print"]}},{"recordType":"DecisionModelNode","recordIndex":"1.5","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.5.1","properties":{"actionIndex":"0","name":"Discount or Wallet offer","boundObjectsAtStart":{"orderAmount":2551.38,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":null,"customer":"decisions.retail.loyalty_program.data.Customer@ed1ac715","order":"java.util.ArrayList@5b16a71c"},"executionDuration":8,"boundObjectsAtEnd":{"orderAmount":2551.38,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":"decisions.retail.loyalty_program.data.Offer@bbca7fec","customer":"decisions.retail.loyalty_program.data.Customer@ed1ac715","order":"java.util.ArrayList@5b16a71c"}}}],"output":{"orderAmount":2551.38,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":"decisions.retail.loyalty_program.data.Offer@bbca7fec","customer":"decisions.retail.loyalty_program.data.Customer@ed1ac715","order":"java.util.ArrayList@5b16a71c"},"input":{"orderAmount":2551.38,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":null,"customer":"decisions.retail.loyalty_program.data.Customer@ed1ac715","order":"java.util.ArrayList@5b16a71c"},"kind":"Decision","name":"Best offer","hitPolicy":"first","executionDuration":8,"nonExecutedRules":["Coupon"],"allRules":["Discount or Wallet offer","Coupon"]}},{"recordType":"DecisionModelNode","recordIndex":"1.6","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.6.1","properties":{"actionIndex":"0","name":"Compute order amount after discount","boundObjectsAtStart":{"orderAmount":2551.38,"discountedPrice":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@bbca7fec"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":2551.38,"discountedPrice":2423.38,"bestOffer":"decisions.retail.loyalty_program.data.Offer@bbca7fec"}}}],"output":{"orderAmount":2551.38,"discountedPrice":2423.38,"bestOffer":"decisions.retail.loyalty_program.data.Offer@bbca7fec"},"input":{"orderAmount":2551.38,"discountedPrice":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@bbca7fec"},"kind":"Decision","name":"Discounted price","hitPolicy":"sequence","executionDuration":1,"nonExecutedRules":[],"allRules":["Compute order amount after discount"]}},{"recordType":"DecisionModelNode","recordIndex":"1.7","properties":{"output":{"discountedPrice":2423.38,"finalPrice":2423.38},"input":{"discountedPrice":2423.38,"finalPrice":null},"defaultValueBefore":{"discountedPrice":2423.38,"finalPrice":null},"kind":"Decision","name":"Final price","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"defaultValueAfter":{"discountedPrice":2423.38,"finalPrice":2423.38},"allRules":[]}},{"recordType":"DecisionModelNode","recordIndex":"1.8","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.1","properties":{"actionIndex":"0","name":"Copy customer information","boundObjectsAtStart":{"discountedPrice":2423.38,"updatedCustomer":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@bbca7fec","customer":"decisions.retail.loyalty_program.data.Customer@ed1ac715"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":2423.38,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@30fa80b6","bestOffer":"decisions.retail.loyalty_program.data.Offer@bbca7fec","customer":"decisions.retail.loyalty_program.data.Customer@ed1ac715"}}},{"recordType":"Rule","recordIndex":"1.8.2","properties":{"actionIndex":"3","name":"Add Discount offer","boundObjectsAtStart":{"discountedPrice":2423.38,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@30fa80b6","bestOffer":"decisions.retail.loyalty_program.data.Offer@bbca7fec","customer":"decisions.retail.loyalty_program.data.Customer@ed1ac715"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":2423.38,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@30fa80b6","bestOffer":"decisions.retail.loyalty_program.data.Offer@bbca7fec","customer":"decisions.retail.loyalty_program.data.Customer@ed1ac715"}}},{"recordType":"Rule","recordIndex":"1.8.3","properties":{"nestedRecords":[{"recordType":"DecisionModel","recordIndex":"1.8.3.1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.1","properties":{"output":{"purchase":2423.38},"input":{"purchase":2423.38},"kind":"InputData","name":"Purchase","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.2","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@30fa80b6"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@30fa80b6"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":1}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.3","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.3.1","properties":{"actionIndex":"0","name":"Remove the first 100","boundObjectsAtStart":{"eligibleAmount":null,"purchase":2423.38},"executionDuration":0,"boundObjectsAtEnd":{"eligibleAmount":2323.38,"purchase":2423.38}}}],"output":{"eligibleAmount":2323.38,"purchase":2423.38},"input":{"eligibleAmount":null,"purchase":2423.38},"kind":"Decision","name":"Eligible amount","hitPolicy":"sequence","executionDuration":1,"nonExecutedRules":[],"allRules":["Remove the first 100"]}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.4","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.4.1","properties":{"actionIndex":"4","name":"Apply reward table","boundObjectsAtStart":{"eligibleAmount":2323.38,"walletMultipler":null,"customer":"decisions.retail.loyalty_program.data.Customer@30fa80b6"},"executionDuration":0,"boundObjectsAtEnd":{"eligibleAmount":2323.38,"walletMultipler":0.02,"customer":"decisions.retail.loyalty_program.data.Customer@30fa80b6"}}}],"output":{"eligibleAmount":2323.38,"walletMultipler":0.02,"customer":"decisions.retail.loyalty_program.data.Customer@30fa80b6"},"input":{"eligibleAmount":2323.38,"walletMultipler":null,"customer":"decisions.retail.loyalty_program.data.Customer@30fa80b6"},"kind":"Decision","name":"Wallet multipler","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Apply reward table"]}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.5","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.5.1","properties":{"actionIndex":"0","name":"Apply reward","boundObjectsAtStart":{"eligibleAmount":2323.38,"walletMultipler":0.02,"walletReward":null,"customer":"decisions.retail.loyalty_program.data.Customer@30fa80b6"},"executionDuration":1,"boundObjectsAtEnd":{"eligibleAmount":2323.38,"walletMultipler":0.02,"walletReward":"decisions.retail.loyalty_program.data.Customer@b8b7ee78","customer":"decisions.retail.loyalty_program.data.Customer@30fa80b6"}}}],"output":{"eligibleAmount":2323.38,"walletMultipler":0.02,"walletReward":"decisions.retail.loyalty_program.data.Customer@b8b7ee78","customer":"decisions.retail.loyalty_program.data.Customer@30fa80b6"},"input":{"eligibleAmount":2323.38,"walletMultipler":0.02,"walletReward":null,"customer":"decisions.retail.loyalty_program.data.Customer@30fa80b6"},"kind":"Decision","name":"Wallet reward","hitPolicy":"sequence","executionDuration":1,"nonExecutedRules":[],"allRules":["Apply reward"]}}],"output":{"walletReward":"decisions.retail.loyalty_program.data.Customer@b8b7ee78"},"input":{"purchase":2423.38,"customer":"decisions.retail.loyalty_program.data.Customer@30fa80b6"},"name":"WalletReward-wallet-reward","executionDuration":9}}],"actionIndex":"4","name":"Update customers total amount and wallet","boundObjectsAtStart":{"discountedPrice":2423.38,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@30fa80b6","bestOffer":"decisions.retail.loyalty_program.data.Offer@bbca7fec","customer":"decisions.retail.loyalty_program.data.Customer@ed1ac715"},"executionDuration":14,"boundObjectsAtEnd":{"discountedPrice":2423.38,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@30fa80b6","bestOffer":"decisions.retail.loyalty_program.data.Offer@bbca7fec","customer":"decisions.retail.loyalty_program.data.Customer@ed1ac715"}}},{"recordType":"Rule","recordIndex":"1.8.4","properties":{"nestedRecords":[{"recordType":"DecisionModel","recordIndex":"1.8.4.1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.8.4.1.1","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@30fa80b6"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@30fa80b6"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":1}},{"recordType":"DecisionModelNode","recordIndex":"1.8.4.1.2","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.4.1.2.1","properties":{"actionIndex":"0","name":"Copy customer information","boundObjectsAtStart":{"customerUpgrade":null,"customer":"decisions.retail.loyalty_program.data.Customer@30fa80b6"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@f8071fc3","customer":"decisions.retail.loyalty_program.data.Customer@30fa80b6"}}},{"recordType":"Rule","recordIndex":"1.8.4.1.2.2","properties":{"actionIndex":"3","name":"Upgrade table","boundObjectsAtStart":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@f8071fc3","customer":"decisions.retail.loyalty_program.data.Customer@30fa80b6"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@f8071fc3","customer":"decisions.retail.loyalty_program.data.Customer@30fa80b6"}}},{"recordType":"Rule","recordIndex":"1.8.4.1.2.3","properties":{"actionIndex":"8","name":"Bonus table","boundObjectsAtStart":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@f8071fc3","customer":"decisions.retail.loyalty_program.data.Customer@30fa80b6"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@f8071fc3","customer":"decisions.retail.loyalty_program.data.Customer@30fa80b6"}}}],"output":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@f8071fc3","customer":"decisions.retail.loyalty_program.data.Customer@30fa80b6"},"input":{"customerUpgrade":null,"customer":"decisions.retail.loyalty_program.data.Customer@30fa80b6"},"kind":"Decision","name":"Customer upgrade","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Copy customer information","Upgrade table","Bonus table"]}}],"output":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@f8071fc3"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@30fa80b6"},"name":"CustomerUpgrade-customer-upgrade","executionDuration":4}}],"actionIndex":"6","name":"Update customer status","boundObjectsAtStart":{"discountedPrice":2423.38,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@30fa80b6","bestOffer":"decisions.retail.loyalty_program.data.Offer@bbca7fec","customer":"decisions.retail.loyalty_program.data.Customer@ed1ac715"},"executionDuration":7,"boundObjectsAtEnd":{"discountedPrice":2423.38,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@f8071fc3","bestOffer":"decisions.retail.loyalty_program.data.Offer@bbca7fec","customer":"decisions.retail.loyalty_program.data.Customer@ed1ac715"}}}],"output":{"discountedPrice":2423.38,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@f8071fc3","bestOffer":"decisions.retail.loyalty_program.data.Offer@bbca7fec","customer":"decisions.retail.loyalty_program.data.Customer@ed1ac715"},"input":{"discountedPrice":2423.38,"updatedCustomer":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@bbca7fec","customer":"decisions.retail.loyalty_program.data.Customer@ed1ac715"},"kind":"Decision","name":"Updated customer","hitPolicy":"sequence","executionDuration":22,"nonExecutedRules":["Add Coupon","Add Wallet discount"],"allRules":["Copy customer information","Add Coupon","Add Wallet discount","Add Discount offer","Update customers total amount and wallet","Update customer status"]}}],"output":{"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@f8071fc3","finalPrice":2423.38},"input":{"order":"java.util.ArrayList@5b16a71c","customer":"decisions.retail.loyalty_program.data.Customer@ed1ac715"},"name":"ApplyLoyaltyPolicies-apply-loyalty-policies","executionDuration":60}},"printedMessages":[{"recordIndex":"1.4.2","message":"Offer type is: Discount"},{"recordIndex":"1.5.1","message":"Discount is: 5.0% or 128.0"},{"recordIndex":"1.8.2","message":"Offer is Discount: 128.0"},{"recordIndex":"1.8.3.1.5.1","message":"Wallet reward is: 46.0"}],"configuration":{"printedMessages":true,"ruleflow":{"executedTasks":true,"notExecutedTasks":true,"allTasks":true,"selectedRules":true,"inputParameters":"ClassNameNHashcode","outputParameters":"ClassNameNHashcode"},"decisionModel":{"inputNode":"ClassNameNHashcode","outputNode":"ClassNameNHashcode","inputParameters":"ClassNameNHashcode","outputParameters":"ClassNameNHashcode"},"rules":{"executedRules":true,"boundObjectsAtStart":"ClassNameNHashcode","boundObjectsAtEnd":"ClassNameNHashcode","nonExecutedRules":true,"allRules":true,"exceptions":"None"},"executionDuration":true},"exceptionsRaised":[]},"response":{"updatedCustomer":{"offers":[{"coupon":null,"description":"Discount on this order (5.0%)","type":"Discount","value":128}],"totalAmount":3707.38,"name":"David Oconnell","status":"Gold","walletAmount":588},"__DecisionID__":"a5f1fd1c-c450-45ca-ade6-e980c4f8296b","finalPrice":2423.38}}
{"request":{"customer":{"offers":[],"totalAmount":9927,"name":"Timothy White","status":"Bronze","walletAmount":120},"order":[{"price":224.99,"name":"Sony - 5.1-Ch. 3D / Smart Blu-ray Home Theater System - Black"},{"price":1099.99,"name":"Samsung - 65 Class - LED - MU6290 Series - 2160p - Smart - 4K Ultra HD TV with HDR\""},{"price":1709,"name":"VPL-HW45ES Full HD Home Theater Projector (Black)"},{"price":31.52,"name":"Adventura SH 140 II Shoulder Bag (Black)"},{"price":488.5,"name":"Olympus TG-5 Waterproof Camera with 3-Inch LCD"},{"price":1215,"name":"Leica DG Vario-Elmar 100-400mm f/4-6.3 ASPH. POWER O.I.S. Lens"},{"price":34.99,"name":"Details About Netgear Modem Vdsl/adsl Broadband High Speed Dsl Dm200 Verizon At&t Used!"},{"price":220.99,"name":"ELECTRIC100H Spectrum Motorized Projection Screen (49 x 87, 110V, 60Hz)"},{"price":38.99,"name":"Logitech Ultrathin Touch Mouse T630 for Windows 8 Touch Gestures"},{"price":2773.4,"name":"LG Electronics OLED65C7P 65-Inch 4K Ultra HD Smart OLED TV - Refurbished"},{"price":599.99,"name":"Hisense - 55 Class - LED - H9 Series - 2160p - Smart - 4K UHD TV with HDR\""}]},"trace":{"rootRecord":{"recordType":"DecisionModel","recordIndex":"1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.1","properties":{"output":{"order":"java.util.ArrayList@6469f1e8"},"input":{"order":"java.util.ArrayList@6469f1e8"},"kind":"InputData","name":"Order","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.2","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@b94e7d45"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@b94e7d45"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.3","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.3.1","properties":{"actionIndex":"0","name":"Sum","boundObjectsAtStart":{"orderAmount":null,"order":"java.util.ArrayList@6469f1e8"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":8437.359999999999,"order":"java.util.ArrayList@6469f1e8"}}}],"output":{"orderAmount":8437.359999999999,"order":"java.util.ArrayList@6469f1e8"},"input":{"orderAmount":null,"order":"java.util.ArrayList@6469f1e8"},"kind":"Decision","name":"Order amount","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Sum"]}},{"recordType":"DecisionModelNode","recordIndex":"1.4","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.4.1","properties":{"actionIndex":"1","name":"Coupon for small transactions","boundObjectsAtStart":{"orderAmount":8437.359999999999,"bestOfferType":null,"customer":"decisions.retail.loyalty_program.data.Customer@b94e7d45","order":"java.util.ArrayList@6469f1e8"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":8437.359999999999,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@b94e7d45","order":"java.util.ArrayList@6469f1e8"}}},{"recordType":"Rule","recordIndex":"1.4.2","properties":{"actionIndex":"5","name":"Print","boundObjectsAtStart":{"orderAmount":8437.359999999999,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@b94e7d45","order":"java.util.ArrayList@6469f1e8"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":8437.359999999999,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@b94e7d45","order":"java.util.ArrayList@6469f1e8"}}}],"output":{"orderAmount":8437.359999999999,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@b94e7d45","order":"java.util.ArrayList@6469f1e8"},"input":{"orderAmount":8437.359999999999,"bestOfferType":null,"customer":"decisions.retail.loyalty_program.data.Customer@b94e7d45","order":"java.util.ArrayList@6469f1e8"},"kind":"Decision","name":"Best offer type","hitPolicy":"sequence","executionDuration":1,"nonExecutedRules":["Limit number of coupons","Discount into wallet for small transactions"],"allRules":["Coupon for small transactions","Limit number of coupons","Discount into wallet for small transactions","Print"]}},{"recordType":"DecisionModelNode","recordIndex":"1.5","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.5.1","properties":{"actionIndex":"0","name":"Discount or Wallet offer","boundObjectsAtStart":{"orderAmount":8437.359999999999,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":null,"customer":"decisions.retail.loyalty_program.data.Customer@b94e7d45","order":"java.util.ArrayList@6469f1e8"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":8437.359999999999,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":"decisions.retail.loyalty_program.data.Offer@eda3bc66","customer":"decisions.retail.loyalty_program.data.Customer@b94e7d45","order":"java.util.ArrayList@6469f1e8"}}}],"output":{"orderAmount":8437.359999999999,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":"decisions.retail.loyalty_program.data.Offer@eda3bc66","customer":"decisions.retail.loyalty_program.data.Customer@b94e7d45","order":"java.util.ArrayList@6469f1e8"},"input":{"orderAmount":8437.359999999999,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":null,"customer":"decisions.retail.loyalty_program.data.Customer@b94e7d45","order":"java.util.ArrayList@6469f1e8"},"kind":"Decision","name":"Best offer","hitPolicy":"first","executionDuration":0,"nonExecutedRules":["Coupon"],"allRules":["Discount or Wallet offer","Coupon"]}},{"recordType":"DecisionModelNode","recordIndex":"1.6","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.6.1","properties":{"actionIndex":"0","name":"Compute order amount after discount","boundObjectsAtStart":{"orderAmount":8437.359999999999,"discountedPrice":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@eda3bc66"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":8437.359999999999,"discountedPrice":8437.359999999999,"bestOffer":"decisions.retail.loyalty_program.data.Offer@eda3bc66"}}}],"output":{"orderAmount":8437.359999999999,"discountedPrice":8437.359999999999,"bestOffer":"decisions.retail.loyalty_program.data.Offer@eda3bc66"},"input":{"orderAmount":8437.359999999999,"discountedPrice":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@eda3bc66"},"kind":"Decision","name":"Discounted price","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Compute order amount after discount"]}},{"recordType":"DecisionModelNode","recordIndex":"1.7","properties":{"output":{"discountedPrice":8437.359999999999,"finalPrice":8437.359999999999},"input":{"discountedPrice":8437.359999999999,"finalPrice":null},"defaultValueBefore":{"discountedPrice":8437.359999999999,"finalPrice":null},"kind":"Decision","name":"Final price","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"defaultValueAfter":{"discountedPrice":8437.359999999999,"finalPrice":8437.359999999999},"allRules":[]}},{"recordType":"DecisionModelNode","recordIndex":"1.8","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.1","properties":{"actionIndex":"0","name":"Copy customer information","boundObjectsAtStart":{"discountedPrice":8437.359999999999,"updatedCustomer":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@eda3bc66","customer":"decisions.retail.loyalty_program.data.Customer@b94e7d45"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":8437.359999999999,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@b993a6ab","bestOffer":"decisions.retail.loyalty_program.data.Offer@eda3bc66","customer":"decisions.retail.loyalty_program.data.Customer@b94e7d45"}}},{"recordType":"Rule","recordIndex":"1.8.2","properties":{"actionIndex":"3","name":"Add Discount offer","boundObjectsAtStart":{"discountedPrice":8437.359999999999,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@b993a6ab","bestOffer":"decisions.retail.loyalty_program.data.Offer@eda3bc66","customer":"decisions.retail.loyalty_program.data.Customer@b94e7d45"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":8437.359999999999,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@b993a6ab","bestOffer":"decisions.retail.loyalty_program.data.Offer@eda3bc66","customer":"decisions.retail.loyalty_program.data.Customer@b94e7d45"}}},{"recordType":"Rule","recordIndex":"1.8.3","properties":{"nestedRecords":[{"recordType":"DecisionModel","recordIndex":"1.8.3.1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.1","properties":{"output":{"purchase":8437.359999999999},"input":{"purchase":8437.359999999999},"kind":"InputData","name":"Purchase","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.2","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@b993a6ab"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@b993a6ab"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.3","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.3.1","properties":{"actionIndex":"0","name":"Remove the first 100","boundObjectsAtStart":{"eligibleAmount":null,"purchase":8437.359999999999},"executionDuration":0,"boundObjectsAtEnd":{"eligibleAmount":8337.359999999999,"purchase":8437.359999999999}}}],"output":{"eligibleAmount":8337.359999999999,"purchase":8437.359999999999},"input":{"eligibleAmount":null,"purchase":8437.359999999999},"kind":"Decision","name":"Eligible amount","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Remove the first 100"]}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.4","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.4.1","properties":{"actionIndex":"2","name":"Apply reward table","boundObjectsAtStart":{"eligibleAmount":8337.359999999999,"walletMultipler":null,"customer":"decisions.retail.loyalty_program.data.Customer@b993a6ab"},"executionDuration":0,"boundObjectsAtEnd":{"eligibleAmount":8337.359999999999,"walletMultipler":0.02,"customer":"decisions.retail.loyalty_program.data.Customer@b993a6ab"}}}],"output":{"eligibleAmount":8337.359999999999,"walletMultipler":0.02,"customer":"decisions.retail.loyalty_program.data.Customer@b993a6ab"},"input":{"eligibleAmount":8337.359999999999,"walletMultipler":null,"customer":"decisions.retail.loyalty_program.data.Customer@b993a6ab"},"kind":"Decision","name":"Wallet multipler","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Apply reward table"]}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.5","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.5.1","properties":{"actionIndex":"0","name":"Apply reward","boundObjectsAtStart":{"eligibleAmount":8337.359999999999,"walletMultipler":0.02,"walletReward":null,"customer":"decisions.retail.loyalty_program.data.Customer@b993a6ab"},"executionDuration":0,"boundObjectsAtEnd":{"eligibleAmount":8337.359999999999,"walletMultipler":0.02,"walletReward":"decisions.retail.loyalty_program.data.Customer@601e20f1","customer":"decisions.retail.loyalty_program.data.Customer@b993a6ab"}}}],"output":{"eligibleAmount":8337.359999999999,"walletMultipler":0.02,"walletReward":"decisions.retail.loyalty_program.data.Customer@601e20f1","customer":"decisions.retail.loyalty_program.data.Customer@b993a6ab"},"input":{"eligibleAmount":8337.359999999999,"walletMultipler":0.02,"walletReward":null,"customer":"decisions.retail.loyalty_program.data.Customer@b993a6ab"},"kind":"Decision","name":"Wallet reward","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Apply reward"]}}],"output":{"walletReward":"decisions.retail.loyalty_program.data.Customer@601e20f1"},"input":{"purchase":8437.359999999999,"customer":"decisions.retail.loyalty_program.data.Customer@b993a6ab"},"name":"WalletReward-wallet-reward","executionDuration":0}}],"actionIndex":"4","name":"Update customers total amount and wallet","boundObjectsAtStart":{"discountedPrice":8437.359999999999,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@b993a6ab","bestOffer":"decisions.retail.loyalty_program.data.Offer@eda3bc66","customer":"decisions.retail.loyalty_program.data.Customer@b94e7d45"},"executionDuration":1,"boundObjectsAtEnd":{"discountedPrice":8437.359999999999,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@b993a6ab","bestOffer":"decisions.retail.loyalty_program.data.Offer@eda3bc66","customer":"decisions.retail.loyalty_program.data.Customer@b94e7d45"}}},{"recordType":"Rule","recordIndex":"1.8.4","properties":{"nestedRecords":[{"recordType":"DecisionModel","recordIndex":"1.8.4.1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.8.4.1.1","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@b993a6ab"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@b993a6ab"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.4.1.2","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.4.1.2.1","properties":{"actionIndex":"0","name":"Copy customer information","boundObjectsAtStart":{"customerUpgrade":null,"customer":"decisions.retail.loyalty_program.data.Customer@b993a6ab"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@6b1524ae","customer":"decisions.retail.loyalty_program.data.Customer@b993a6ab"}}},{"recordType":"Rule","recordIndex":"1.8.4.1.2.2","properties":{"actionIndex":"4","name":"Upgrade table","boundObjectsAtStart":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@6b1524ae","customer":"decisions.retail.loyalty_program.data.Customer@b993a6ab"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@6b1524ae","customer":"decisions.retail.loyalty_program.data.Customer@b993a6ab"}}},{"recordType":"Rule","recordIndex":"1.8.4.1.2.3","properties":{"actionIndex":"7","name":"Bonus table","boundObjectsAtStart":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@6b1524ae","customer":"decisions.retail.loyalty_program.data.Customer@b993a6ab"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@6b1524ae","customer":"decisions.retail.loyalty_program.data.Customer@b993a6ab"}}}],"output":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@6b1524ae","customer":"decisions.retail.loyalty_program.data.Customer@b993a6ab"},"input":{"customerUpgrade":null,"customer":"decisions.retail.loyalty_program.data.Customer@b993a6ab"},"kind":"Decision","name":"Customer upgrade","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Copy customer information","Upgrade table","Bonus table"]}}],"output":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@6b1524ae"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@b993a6ab"},"name":"CustomerUpgrade-customer-upgrade","executionDuration":0}}],"actionIndex":"6","name":"Update customer status","boundObjectsAtStart":{"discountedPrice":8437.359999999999,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@b993a6ab","bestOffer":"decisions.retail.loyalty_program.data.Offer@eda3bc66","customer":"decisions.retail.loyalty_program.data.Customer@b94e7d45"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":8437.359999999999,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@6b1524ae","bestOffer":"decisions.retail.loyalty_program.data.Offer@eda3bc66","customer":"decisions.retail.loyalty_program.data.Customer@b94e7d45"}}}],"output":{"discountedPrice":8437.359999999999,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@6b1524ae","bestOffer":"decisions.retail.loyalty_program.data.Offer@eda3bc66","customer":"decisions.retail.loyalty_program.data.Customer@b94e7d45"},"input":{"discountedPrice":8437.359999999999,"updatedCustomer":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@eda3bc66","customer":"decisions.retail.loyalty_program.data.Customer@b94e7d45"},"kind":"Decision","name":"Updated customer","hitPolicy":"sequence","executionDuration":1,"nonExecutedRules":["Add Coupon","Add Wallet discount"],"allRules":["Copy customer information","Add Coupon","Add Wallet discount","Add Discount offer","Update customers total amount and wallet","Update customer status"]}}],"output":{"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@6b1524ae","finalPrice":8437.359999999999},"input":{"order":"java.util.ArrayList@6469f1e8","customer":"decisions.retail.loyalty_program.data.Customer@b94e7d45"},"name":"ApplyLoyaltyPolicies-apply-loyalty-policies","executionDuration":2}},"printedMessages":[{"recordIndex":"1.4.2","message":"Offer type is: Discount"},{"recordIndex":"1.5.1","message":"Discount is: 0.0% or 0.0"},{"recordIndex":"1.8.2","message":"Offer is Discount: 0.0"},{"recordIndex":"1.8.3.1.5.1","message":"Wallet reward is: 167.0"}],"configuration":{"printedMessages":true,"ruleflow":{"executedTasks":true,"notExecutedTasks":true,"allTasks":true,"selectedRules":true,"inputParameters":"ClassNameNHashcode","outputParameters":"ClassNameNHashcode"},"decisionModel":{"inputNode":"ClassNameNHashcode","outputNode":"ClassNameNHashcode","inputParameters":"ClassNameNHashcode","outputParameters":"ClassNameNHashcode"},"rules":{"executedRules":true,"boundObjectsAtStart":"ClassNameNHashcode","boundObjectsAtEnd":"ClassNameNHashcode","nonExecutedRules":true,"allRules":true,"exceptions":"None"},"executionDuration":true},"exceptionsRaised":[]},"response":{"updatedCustomer":{"offers":[{"coupon":null,"description":"Discount on this order (0.0%)","type":"Discount","value":0}],"totalAmount":18364.36,"name":"Timothy White","status":"Platinum","walletAmount":347},"__DecisionID__":"4c3d2650-4911-4f13-a2d1-755afa969775","finalPrice":8437.359999999999}}
{"request":{"customer":{"offers":[],"totalAmount":9018,"name":"Mario Mcgee","status":"Silver","walletAmount":170},"order":[{"price":64.99,"name":"Universal Foldable Bluetooth Keyboard for Mobile Devices"},{"price":499.99,"name":"Details About Openbox Excellent: Alienware Aw2518h 25 Led Fhd Gsync Monitor Black\""},{"price":1297.99,"name":"Samsung - 65 Class - LED - MU7000 Series - 2160p - Smart - 4K UHD TV with HDR\""},{"price":1599.52,"name":"LG - 65 Class - LED - SJ8500 Series - 2160p - Smart - 4K UHD TV with HDR\""},{"price":578,"name":"Details About Sony Kd43x720e 43inch 4k Ultra Hd Smart Led Tv (2017 Model) Kd43x720e"},{"price":439,"name":"Gear 360 Spherical VR Camera"},{"price":449.95,"name":"RX-V583 7.2-Channel Network A/V Receiver"},{"price":349.99,"name":"Lumix G 42.5mm f/1.7 ASPH. POWER O.I.S. Lens"}]},"trace":{"rootRecord":{"recordType":"DecisionModel","recordIndex":"1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.1","properties":{"output":{"order":"java.util.ArrayList@20d276c3"},"input":{"order":"java.util.ArrayList@20d276c3"},"kind":"InputData","name":"Order","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.2","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@a4d0b452"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@a4d0b452"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.3","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.3.1","properties":{"actionIndex":"0","name":"Sum","boundObjectsAtStart":{"orderAmount":null,"order":"java.util.ArrayList@20d276c3"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":5279.429999999999,"order":"java.util.ArrayList@20d276c3"}}}],"output":{"orderAmount":5279.429999999999,"order":"java.util.ArrayList@20d276c3"},"input":{"orderAmount":null,"order":"java.util.ArrayList@20d276c3"},"kind":"Decision","name":"Order amount","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Sum"]}},{"recordType":"DecisionModelNode","recordIndex":"1.4","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.4.1","properties":{"actionIndex":"1","name":"Coupon for small transactions","boundObjectsAtStart":{"orderAmount":5279.429999999999,"bestOfferType":null,"customer":"decisions.retail.loyalty_program.data.Customer@a4d0b452","order":"java.util.ArrayList@20d276c3"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":5279.429999999999,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@a4d0b452","order":"java.util.ArrayList@20d276c3"}}},{"recordType":"Rule","recordIndex":"1.4.2","properties":{"actionIndex":"5","name":"Print","boundObjectsAtStart":{"orderAmount":5279.429999999999,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@a4d0b452","order":"java.util.ArrayList@20d276c3"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":5279.429999999999,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@a4d0b452","order":"java.util.ArrayList@20d276c3"}}}],"output":{"orderAmount":5279.429999999999,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@a4d0b452","order":"java.util.ArrayList@20d276c3"},"input":{"orderAmount":5279.429999999999,"bestOfferType":null,"customer":"decisions.retail.loyalty_program.data.Customer@a4d0b452","order":"java.util.ArrayList@20d276c3"},"kind":"Decision","name":"Best offer type","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":["Limit number of coupons","Discount into wallet for small transactions"],"allRules":["Coupon for small transactions","Limit number of coupons","Discount into wallet for small transactions","Print"]}},{"recordType":"DecisionModelNode","recordIndex":"1.5","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.5.1","properties":{"actionIndex":"0","name":"Discount or Wallet offer","boundObjectsAtStart":{"orderAmount":5279.429999999999,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":null,"customer":"decisions.retail.loyalty_program.data.Customer@a4d0b452","order":"java.util.ArrayList@20d276c3"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":5279.429999999999,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":"decisions.retail.loyalty_program.data.Offer@99052e91","customer":"decisions.retail.loyalty_program.data.Customer@a4d0b452","order":"java.util.ArrayList@20d276c3"}}}],"output":{"orderAmount":5279.429999999999,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":"decisions.retail.loyalty_program.data.Offer@99052e91","customer":"decisions.retail.loyalty_program.data.Customer@a4d0b452","order":"java.util.ArrayList@20d276c3"},"input":{"orderAmount":5279.429999999999,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":null,"customer":"decisions.retail.loyalty_program.data.Customer@a4d0b452","order":"java.util.ArrayList@20d276c3"},"kind":"Decision","name":"Best offer","hitPolicy":"first","executionDuration":0,"nonExecutedRules":["Coupon"],"allRules":["Discount or Wallet offer","Coupon"]}},{"recordType":"DecisionModelNode","recordIndex":"1.6","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.6.1","properties":{"actionIndex":"0","name":"Compute order amount after discount","boundObjectsAtStart":{"orderAmount":5279.429999999999,"discountedPrice":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@99052e91"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":5279.429999999999,"discountedPrice":5015.429999999999,"bestOffer":"decisions.retail.loyalty_program.data.Offer@99052e91"}}}],"output":{"orderAmount":5279.429999999999,"discountedPrice":5015.429999999999,"bestOffer":"decisions.retail.loyalty_program.data.Offer@99052e91"},"input":{"orderAmount":5279.429999999999,"discountedPrice":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@99052e91"},"kind":"Decision","name":"Discounted price","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Compute order amount after discount"]}},{"recordType":"DecisionModelNode","recordIndex":"1.7","properties":{"output":{"discountedPrice":5015.429999999999,"finalPrice":5015.429999999999},"input":{"discountedPrice":5015.429999999999,"finalPrice":null},"defaultValueBefore":{"discountedPrice":5015.429999999999,"finalPrice":null},"kind":"Decision","name":"Final price","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"defaultValueAfter":{"discountedPrice":5015.429999999999,"finalPrice":5015.429999999999},"allRules":[]}},{"recordType":"DecisionModelNode","recordIndex":"1.8","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.1","properties":{"actionIndex":"0","name":"Copy customer information","boundObjectsAtStart":{"discountedPrice":5015.429999999999,"updatedCustomer":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@99052e91","customer":"decisions.retail.loyalty_program.data.Customer@a4d0b452"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":5015.429999999999,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@d2a745ba","bestOffer":"decisions.retail.loyalty_program.data.Offer@99052e91","customer":"decisions.retail.loyalty_program.data.Customer@a4d0b452"}}},{"recordType":"Rule","recordIndex":"1.8.2","properties":{"actionIndex":"3","name":"Add Discount offer","boundObjectsAtStart":{"discountedPrice":5015.429999999999,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@d2a745ba","bestOffer":"decisions.retail.loyalty_program.data.Offer@99052e91","customer":"decisions.retail.loyalty_program.data.Customer@a4d0b452"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":5015.429999999999,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@d2a745ba","bestOffer":"decisions.retail.loyalty_program.data.Offer@99052e91","customer":"decisions.retail.loyalty_program.data.Customer@a4d0b452"}}},{"recordType":"Rule","recordIndex":"1.8.3","properties":{"nestedRecords":[{"recordType":"DecisionModel","recordIndex":"1.8.3.1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.1","properties":{"output":{"purchase":5015.429999999999},"input":{"purchase":5015.429999999999},"kind":"InputData","name":"Purchase","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.2","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@d2a745ba"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@d2a745ba"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.3","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.3.1","properties":{"actionIndex":"0","name":"Remove the first 100","boundObjectsAtStart":{"eligibleAmount":null,"purchase":5015.429999999999},"executionDuration":0,"boundObjectsAtEnd":{"eligibleAmount":4915.429999999999,"purchase":5015.429999999999}}}],"output":{"eligibleAmount":4915.429999999999,"purchase":5015.429999999999},"input":{"eligibleAmount":null,"purchase":5015.429999999999},"kind":"Decision","name":"Eligible amount","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Remove the first 100"]}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.4","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.4.1","properties":{"actionIndex":"5","name":"Apply reward table","boundObjectsAtStart":{"eligibleAmount":4915.429999999999,"walletMultipler":null,"customer":"decisions.retail.loyalty_program.data.Customer@d2a745ba"},"executionDuration":0,"boundObjectsAtEnd":{"eligibleAmount":4915.429999999999,"walletMultipler":0.025,"customer":"decisions.retail.loyalty_program.data.Customer@d2a745ba"}}}],"output":{"eligibleAmount":4915.429999999999,"walletMultipler":0.025,"customer":"decisions.retail.loyalty_program.data.Customer@d2a745ba"},"input":{"eligibleAmount":4915.429999999999,"walletMultipler":null,"customer":"decisions.retail.loyalty_program.data.Customer@d2a745ba"},"kind":"Decision","name":"Wallet multipler","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Apply reward table"]}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.5","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.5.1","properties":{"actionIndex":"0","name":"Apply reward","boundObjectsAtStart":{"eligibleAmount":4915.429999999999,"walletMultipler":0.025,"walletReward":null,"customer":"decisions.retail.loyalty_program.data.Customer@d2a745ba"},"executionDuration":1,"boundObjectsAtEnd":{"eligibleAmount":4915.429999999999,"walletMultipler":0.025,"walletReward":"decisions.retail.loyalty_program.data.Customer@647fd73d","customer":"decisions.retail.loyalty_program.data.Customer@d2a745ba"}}}],"output":{"eligibleAmount":4915.429999999999,"walletMultipler":0.025,"walletReward":"decisions.retail.loyalty_program.data.Customer@647fd73d","customer":"decisions.retail.loyalty_program.data.Customer@d2a745ba"},"input":{"eligibleAmount":4915.429999999999,"walletMultipler":0.025,"walletReward":null,"customer":"decisions.retail.loyalty_program.data.Customer@d2a745ba"},"kind":"Decision","name":"Wallet reward","hitPolicy":"sequence","executionDuration":1,"nonExecutedRules":[],"allRules":["Apply reward"]}}],"output":{"walletReward":"decisions.retail.loyalty_program.data.Customer@647fd73d"},"input":{"purchase":5015.429999999999,"customer":"decisions.retail.loyalty_program.data.Customer@d2a745ba"},"name":"WalletReward-wallet-reward","executionDuration":1}}],"actionIndex":"4","name":"Update customers total amount and wallet","boundObjectsAtStart":{"discountedPrice":5015.429999999999,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@d2a745ba","bestOffer":"decisions.retail.loyalty_program.data.Offer@99052e91","customer":"decisions.retail.loyalty_program.data.Customer@a4d0b452"},"executionDuration":1,"boundObjectsAtEnd":{"discountedPrice":5015.429999999999,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@d2a745ba","bestOffer":"decisions.retail.loyalty_program.data.Offer@99052e91","customer":"decisions.retail.loyalty_program.data.Customer@a4d0b452"}}},{"recordType":"Rule","recordIndex":"1.8.4","properties":{"nestedRecords":[{"recordType":"DecisionModel","recordIndex":"1.8.4.1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.8.4.1.1","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@d2a745ba"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@d2a745ba"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.4.1.2","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.4.1.2.1","properties":{"actionIndex":"0","name":"Copy customer information","boundObjectsAtStart":{"customerUpgrade":null,"customer":"decisions.retail.loyalty_program.data.Customer@d2a745ba"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@1f38a0fa","customer":"decisions.retail.loyalty_program.data.Customer@d2a745ba"}}},{"recordType":"Rule","recordIndex":"1.8.4.1.2.2","properties":{"actionIndex":"4","name":"Upgrade table","boundObjectsAtStart":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@1f38a0fa","customer":"decisions.retail.loyalty_program.data.Customer@d2a745ba"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@1f38a0fa","customer":"decisions.retail.loyalty_program.data.Customer@d2a745ba"}}},{"recordType":"Rule","recordIndex":"1.8.4.1.2.3","properties":{"actionIndex":"9","name":"Bonus table","boundObjectsAtStart":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@1f38a0fa","customer":"decisions.retail.loyalty_program.data.Customer@d2a745ba"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@1f38a0fa","customer":"decisions.retail.loyalty_program.data.Customer@d2a745ba"}}}],"output":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@1f38a0fa","customer":"decisions.retail.loyalty_program.data.Customer@d2a745ba"},"input":{"customerUpgrade":null,"customer":"decisions.retail.loyalty_program.data.Customer@d2a745ba"},"kind":"Decision","name":"Customer upgrade","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Copy customer information","Upgrade table","Bonus table"]}}],"output":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@1f38a0fa"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@d2a745ba"},"name":"CustomerUpgrade-customer-upgrade","executionDuration":0}}],"actionIndex":"6","name":"Update customer status","boundObjectsAtStart":{"discountedPrice":5015.429999999999,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@d2a745ba","bestOffer":"decisions.retail.loyalty_program.data.Offer@99052e91","customer":"decisions.retail.loyalty_program.data.Customer@a4d0b452"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":5015.429999999999,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@1f38a0fa","bestOffer":"decisions.retail.loyalty_program.data.Offer@99052e91","customer":"decisions.retail.loyalty_program.data.Customer@a4d0b452"}}}],"output":{"discountedPrice":5015.429999999999,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@1f38a0fa","bestOffer":"decisions.retail.loyalty_program.data.Offer@99052e91","customer":"decisions.retail.loyalty_program.data.Customer@a4d0b452"},"input":{"discountedPrice":5015.429999999999,"updatedCustomer":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@99052e91","customer":"decisions.retail.loyalty_program.data.Customer@a4d0b452"},"kind":"Decision","name":"Updated customer","hitPolicy":"sequence","executionDuration":1,"nonExecutedRules":["Add Coupon","Add Wallet discount"],"allRules":["Copy customer information","Add Coupon","Add Wallet discount","Add Discount offer","Update customers total amount and wallet","Update customer status"]}}],"output":{"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@1f38a0fa","finalPrice":5015.429999999999},"input":{"order":"java.util.ArrayList@20d276c3","customer":"decisions.retail.loyalty_program.data.Customer@a4d0b452"},"name":"ApplyLoyaltyPolicies-apply-loyalty-policies","executionDuration":2}},"printedMessages":[{"recordIndex":"1.4.2","message":"Offer type is: Discount"},{"recordIndex":"1.5.1","message":"Discount is: 5.0% or 264.0"},{"recordIndex":"1.8.2","message":"Offer is Discount: 264.0"},{"recordIndex":"1.8.3.1.5.1","message":"Wallet reward is: 123.0"}],"configuration":{"printedMessages":true,"ruleflow":{"executedTasks":true,"notExecutedTasks":true,"allTasks":true,"selectedRules":true,"inputParameters":"ClassNameNHashcode","outputParameters":"ClassNameNHashcode"},"decisionModel":{"inputNode":"ClassNameNHashcode","outputNode":"ClassNameNHashcode","inputParameters":"ClassNameNHashcode","outputParameters":"ClassNameNHashcode"},"rules":{"executedRules":true,"boundObjectsAtStart":"ClassNameNHashcode","boundObjectsAtEnd":"ClassNameNHashcode","nonExecutedRules":true,"allRules":true,"exceptions":"None"},"executionDuration":true},"exceptionsRaised":[]},"response":{"updatedCustomer":{"offers":[{"coupon":null,"description":"Discount on this order (5.0%)","type":"Discount","value":264}],"totalAmount":14033.43,"name":"Mario Mcgee","status":"Platinum","walletAmount":343},"__DecisionID__":"d1b67cb6-a274-483c-8a59-9f482fd2fd2a","finalPrice":5015.429999999999}}
{"request":{"customer":{"offers":[],"totalAmount":2695,"name":"Richard Wolfe","status":"Gold","walletAmount":747},"order":[{"price":45.75,"name":"Audio Video Shelf"},{"price":4999.99,"name":"Sony - 55 Class - OLED - A1E Series - 2160p - Smart - 4K UHD TV with HDR\""},{"price":349.98,"name":"MartinLogan - Dynamo 500 10 360-Watt Powered Subwoofer - Black\""},{"price":1298.95,"name":"SAMSUNG 65 Class 4K (2160P) Ultra HD Smart QLED HDR TV QN65Q6FNAFXZA (2018 Model)\""},{"price":149.99,"name":"Logitech iPad Pro 12.9 inch Keyboard Case SLIM COMBO with Detachable"},{"price":81.99,"name":"Lowepro - Slingshot Edge 250 AW Camera Backpack - Black"},{"price":508.99,"name":"R120WH2 ezFrame 2 58.7 x 104.7 Fixed Frame Projection Screen"},{"price":114.99,"name":"Refurbished Jaybird F5-S-B Freedom F5 In-Ear Wireless Headphones - Carbon"},{"price":1058.95,"name":"4TB Network OEM HDD Retail Kit (8-Pack, WD40EFRX, Red Drives)"},{"price":179.99,"name":"Amps Air Bluetooth Wireless Earbuds (Deep Blue)"},{"price":63.19,"name":"E100 1080p Dash Camera"}]},"trace":{"rootRecord":{"recordType":"DecisionModel","recordIndex":"1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.1","properties":{"output":{"order":"java.util.ArrayList@2959dda2"},"input":{"order":"java.util.ArrayList@2959dda2"},"kind":"InputData","name":"Order","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.2","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@61b2b8de"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@61b2b8de"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.3","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.3.1","properties":{"actionIndex":"0","name":"Sum","boundObjectsAtStart":{"orderAmount":null,"order":"java.util.ArrayList@2959dda2"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":8852.759999999998,"order":"java.util.ArrayList@2959dda2"}}}],"output":{"orderAmount":8852.759999999998,"order":"java.util.ArrayList@2959dda2"},"input":{"orderAmount":null,"order":"java.util.ArrayList@2959dda2"},"kind":"Decision","name":"Order amount","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Sum"]}},{"recordType":"DecisionModelNode","recordIndex":"1.4","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.4.1","properties":{"actionIndex":"1","name":"Coupon for small transactions","boundObjectsAtStart":{"orderAmount":8852.759999999998,"bestOfferType":null,"customer":"decisions.retail.loyalty_program.data.Customer@61b2b8de","order":"java.util.ArrayList@2959dda2"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":8852.759999999998,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@61b2b8de","order":"java.util.ArrayList@2959dda2"}}},{"recordType":"Rule","recordIndex":"1.4.2","properties":{"actionIndex":"5","name":"Print","boundObjectsAtStart":{"orderAmount":8852.759999999998,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@61b2b8de","order":"java.util.ArrayList@2959dda2"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":8852.759999999998,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@61b2b8de","order":"java.util.ArrayList@2959dda2"}}}],"output":{"orderAmount":8852.759999999998,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","customer":"decisions.retail.loyalty_program.data.Customer@61b2b8de","order":"java.util.ArrayList@2959dda2"},"input":{"orderAmount":8852.759999999998,"bestOfferType":null,"customer":"decisions.retail.loyalty_program.data.Customer@61b2b8de","order":"java.util.ArrayList@2959dda2"},"kind":"Decision","name":"Best offer type","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":["Limit number of coupons","Discount into wallet for small transactions"],"allRules":["Coupon for small transactions","Limit number of coupons","Discount into wallet for small transactions","Print"]}},{"recordType":"DecisionModelNode","recordIndex":"1.5","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.5.1","properties":{"actionIndex":"0","name":"Discount or Wallet offer","boundObjectsAtStart":{"orderAmount":8852.759999999998,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":null,"customer":"decisions.retail.loyalty_program.data.Customer@61b2b8de","order":"java.util.ArrayList@2959dda2"},"executionDuration":0,"boundObjectsAtEnd":{"orderAmount":8852.759999999998,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":"decisions.retail.loyalty_program.data.Offer@6a29e094","customer":"decisions.retail.loyalty_program.data.Customer@61b2b8de","order":"java.util.ArrayList@2959dda2"}}}],"output":{"orderAmount":8852.759999999998,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":"decisions.retail.loyalty_program.data.Offer@6a29e094","customer":"decisions.retail.loyalty_program.data.Customer@61b2b8de","order":"java.util.ArrayList@2959dda2"},"input":{"orderAmount":8852.759999999998,"bestOfferType":"decisions.retail.loyalty_program.data.OfferType@3fcad6aa","bestOffer":null,"customer":"decisions.retail.loyalty_program.data.Customer@61b2b8de","order":"java.util.ArrayList@2959dda2"},"kind":"Decision","name":"Best offer","hitPolicy":"first","executionDuration":0,"nonExecutedRules":["Coupon"],"allRules":["Discount or Wallet offer","Coupon"]}},{"recordType":"DecisionModelNode","recordIndex":"1.6","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.6.1","properties":{"actionIndex":"0","name":"Compute order amount after discount","boundObjectsAtStart":{"orderAmount":8852.759999999998,"discountedPrice":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@6a29e094"},"executionDuration":1,"boundObjectsAtEnd":{"orderAmount":8852.759999999998,"discountedPrice":7967.759999999998,"bestOffer":"decisions.retail.loyalty_program.data.Offer@6a29e094"}}}],"output":{"orderAmount":8852.759999999998,"discountedPrice":7967.759999999998,"bestOffer":"decisions.retail.loyalty_program.data.Offer@6a29e094"},"input":{"orderAmount":8852.759999999998,"discountedPrice":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@6a29e094"},"kind":"Decision","name":"Discounted price","hitPolicy":"sequence","executionDuration":1,"nonExecutedRules":[],"allRules":["Compute order amount after discount"]}},{"recordType":"DecisionModelNode","recordIndex":"1.7","properties":{"output":{"discountedPrice":7967.759999999998,"finalPrice":7967.759999999998},"input":{"discountedPrice":7967.759999999998,"finalPrice":null},"defaultValueBefore":{"discountedPrice":7967.759999999998,"finalPrice":null},"kind":"Decision","name":"Final price","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"defaultValueAfter":{"discountedPrice":7967.759999999998,"finalPrice":7967.759999999998},"allRules":[]}},{"recordType":"DecisionModelNode","recordIndex":"1.8","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.1","properties":{"actionIndex":"0","name":"Copy customer information","boundObjectsAtStart":{"discountedPrice":7967.759999999998,"updatedCustomer":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@6a29e094","customer":"decisions.retail.loyalty_program.data.Customer@61b2b8de"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":7967.759999999998,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@b12bb143","bestOffer":"decisions.retail.loyalty_program.data.Offer@6a29e094","customer":"decisions.retail.loyalty_program.data.Customer@61b2b8de"}}},{"recordType":"Rule","recordIndex":"1.8.2","properties":{"actionIndex":"3","name":"Add Discount offer","boundObjectsAtStart":{"discountedPrice":7967.759999999998,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@b12bb143","bestOffer":"decisions.retail.loyalty_program.data.Offer@6a29e094","customer":"decisions.retail.loyalty_program.data.Customer@61b2b8de"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":7967.759999999998,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@b12bb143","bestOffer":"decisions.retail.loyalty_program.data.Offer@6a29e094","customer":"decisions.retail.loyalty_program.data.Customer@61b2b8de"}}},{"recordType":"Rule","recordIndex":"1.8.3","properties":{"nestedRecords":[{"recordType":"DecisionModel","recordIndex":"1.8.3.1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.1","properties":{"output":{"purchase":7967.759999999998},"input":{"purchase":7967.759999999998},"kind":"InputData","name":"Purchase","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.2","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@b12bb143"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@b12bb143"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.3","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.3.1","properties":{"actionIndex":"0","name":"Remove the first 100","boundObjectsAtStart":{"eligibleAmount":null,"purchase":7967.759999999998},"executionDuration":0,"boundObjectsAtEnd":{"eligibleAmount":7867.759999999998,"purchase":7967.759999999998}}}],"output":{"eligibleAmount":7867.759999999998,"purchase":7967.759999999998},"input":{"eligibleAmount":null,"purchase":7967.759999999998},"kind":"Decision","name":"Eligible amount","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Remove the first 100"]}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.4","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.4.1","properties":{"actionIndex":"8","name":"Apply reward table","boundObjectsAtStart":{"eligibleAmount":7867.759999999998,"walletMultipler":null,"customer":"decisions.retail.loyalty_program.data.Customer@b12bb143"},"executionDuration":0,"boundObjectsAtEnd":{"eligibleAmount":7867.759999999998,"walletMultipler":0.03,"customer":"decisions.retail.loyalty_program.data.Customer@b12bb143"}}}],"output":{"eligibleAmount":7867.759999999998,"walletMultipler":0.03,"customer":"decisions.retail.loyalty_program.data.Customer@b12bb143"},"input":{"eligibleAmount":7867.759999999998,"walletMultipler":null,"customer":"decisions.retail.loyalty_program.data.Customer@b12bb143"},"kind":"Decision","name":"Wallet multipler","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Apply reward table"]}},{"recordType":"DecisionModelNode","recordIndex":"1.8.3.1.5","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.3.1.5.1","properties":{"actionIndex":"0","name":"Apply reward","boundObjectsAtStart":{"eligibleAmount":7867.759999999998,"walletMultipler":0.03,"walletReward":null,"customer":"decisions.retail.loyalty_program.data.Customer@b12bb143"},"executionDuration":0,"boundObjectsAtEnd":{"eligibleAmount":7867.759999999998,"walletMultipler":0.03,"walletReward":"decisions.retail.loyalty_program.data.Customer@d48ff837","customer":"decisions.retail.loyalty_program.data.Customer@b12bb143"}}}],"output":{"eligibleAmount":7867.759999999998,"walletMultipler":0.03,"walletReward":"decisions.retail.loyalty_program.data.Customer@d48ff837","customer":"decisions.retail.loyalty_program.data.Customer@b12bb143"},"input":{"eligibleAmount":7867.759999999998,"walletMultipler":0.03,"walletReward":null,"customer":"decisions.retail.loyalty_program.data.Customer@b12bb143"},"kind":"Decision","name":"Wallet reward","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Apply reward"]}}],"output":{"walletReward":"decisions.retail.loyalty_program.data.Customer@d48ff837"},"input":{"purchase":7967.759999999998,"customer":"decisions.retail.loyalty_program.data.Customer@b12bb143"},"name":"WalletReward-wallet-reward","executionDuration":0}}],"actionIndex":"4","name":"Update customers total amount and wallet","boundObjectsAtStart":{"discountedPrice":7967.759999999998,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@b12bb143","bestOffer":"decisions.retail.loyalty_program.data.Offer@6a29e094","customer":"decisions.retail.loyalty_program.data.Customer@61b2b8de"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":7967.759999999998,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@b12bb143","bestOffer":"decisions.retail.loyalty_program.data.Offer@6a29e094","customer":"decisions.retail.loyalty_program.data.Customer@61b2b8de"}}},{"recordType":"Rule","recordIndex":"1.8.4","properties":{"nestedRecords":[{"recordType":"DecisionModel","recordIndex":"1.8.4.1","properties":{"engineVersion":"2.14.1","nestedRecords":[{"recordType":"DecisionModelNode","recordIndex":"1.8.4.1.1","properties":{"output":{"customer":"decisions.retail.loyalty_program.data.Customer@b12bb143"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@b12bb143"},"kind":"InputData","name":"Customer","hitPolicy":"sequence","executionDuration":0}},{"recordType":"DecisionModelNode","recordIndex":"1.8.4.1.2","properties":{"nestedRecords":[{"recordType":"Rule","recordIndex":"1.8.4.1.2.1","properties":{"actionIndex":"0","name":"Copy customer information","boundObjectsAtStart":{"customerUpgrade":null,"customer":"decisions.retail.loyalty_program.data.Customer@b12bb143"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@babba182","customer":"decisions.retail.loyalty_program.data.Customer@b12bb143"}}},{"recordType":"Rule","recordIndex":"1.8.4.1.2.2","properties":{"actionIndex":"4","name":"Upgrade table","boundObjectsAtStart":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@babba182","customer":"decisions.retail.loyalty_program.data.Customer@b12bb143"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@babba182","customer":"decisions.retail.loyalty_program.data.Customer@b12bb143"}}},{"recordType":"Rule","recordIndex":"1.8.4.1.2.3","properties":{"actionIndex":"10","name":"Bonus table","boundObjectsAtStart":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@babba182","customer":"decisions.retail.loyalty_program.data.Customer@b12bb143"},"executionDuration":0,"boundObjectsAtEnd":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@babba182","customer":"decisions.retail.loyalty_program.data.Customer@b12bb143"}}}],"output":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@babba182","customer":"decisions.retail.loyalty_program.data.Customer@b12bb143"},"input":{"customerUpgrade":null,"customer":"decisions.retail.loyalty_program.data.Customer@b12bb143"},"kind":"Decision","name":"Customer upgrade","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":[],"allRules":["Copy customer information","Upgrade table","Bonus table"]}}],"output":{"customerUpgrade":"decisions.retail.loyalty_program.data.Customer@babba182"},"input":{"customer":"decisions.retail.loyalty_program.data.Customer@b12bb143"},"name":"CustomerUpgrade-customer-upgrade","executionDuration":0}}],"actionIndex":"6","name":"Update customer status","boundObjectsAtStart":{"discountedPrice":7967.759999999998,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@b12bb143","bestOffer":"decisions.retail.loyalty_program.data.Offer@6a29e094","customer":"decisions.retail.loyalty_program.data.Customer@61b2b8de"},"executionDuration":0,"boundObjectsAtEnd":{"discountedPrice":7967.759999999998,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@babba182","bestOffer":"decisions.retail.loyalty_program.data.Offer@6a29e094","customer":"decisions.retail.loyalty_program.data.Customer@61b2b8de"}}}],"output":{"discountedPrice":7967.759999999998,"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@babba182","bestOffer":"decisions.retail.loyalty_program.data.Offer@6a29e094","customer":"decisions.retail.loyalty_program.data.Customer@61b2b8de"},"input":{"discountedPrice":7967.759999999998,"updatedCustomer":null,"bestOffer":"decisions.retail.loyalty_program.data.Offer@6a29e094","customer":"decisions.retail.loyalty_program.data.Customer@61b2b8de"},"kind":"Decision","name":"Updated customer","hitPolicy":"sequence","executionDuration":0,"nonExecutedRules":["Add Coupon","Add Wallet discount"],"allRules":["Copy customer information","Add Coupon","Add Wallet discount","Add Discount offer","Update customers total amount and wallet","Update customer status"]}}],"output":{"updatedCustomer":"decisions.retail.loyalty_program.data.Customer@babba182","finalPrice":7967.759999999998},"input":{"order":"java.util.ArrayList@2959dda2","customer":"decisions.retail.loyalty_program.data.Customer@61b2b8de"},"name":"ApplyLoyaltyPolicies-apply-loyalty-policies","executionDuration":1}},"printedMessages":[{"recordIndex":"1.4.2","message":"Offer type is: Discount"},{"recordIndex":"1.5.1","message":"Discount is: 10.0% or 885.0"},{"recordIndex":"1.8.2","message":"Offer is Discount: 885.0"},{"recordIndex":"1.8.3.1.5.1","message":"Wallet reward is: 236.0"}],"configuration":{"printedMessages":true,"ruleflow":{"executedTasks":true,"notExecutedTasks":true,"allTasks":true,"selectedRules":true,"inputParameters":"ClassNameNHashcode","outputParameters":"ClassNameNHashcode"},"decisionModel":{"inputNode":"ClassNameNHashcode","outputNode":"ClassNameNHashcode","inputParameters":"ClassNameNHashcode","outputParameters":"ClassNameNHashcode"},"rules":{"executedRules":true,"boundObjectsAtStart":"ClassNameNHashcode","boundObjectsAtEnd":"ClassNameNHashcode","nonExecutedRules":true,"allRules":true,"exceptions":"None"},"executionDuration":true},"exceptionsRaised":[]},"response":{"updatedCustomer":{"offers":[{"coupon":null,"description":"Discount on this order (10.0%)","type":"Discount","value":885}],"totalAmount":10662.759999999998,"name":"Richard Wolfe","status":"Platinum","walletAmount":1023},"__DecisionID__":"37727125-309e-40be-9c5c-48dd615be25e","finalPrice":7967.759999999998}}
